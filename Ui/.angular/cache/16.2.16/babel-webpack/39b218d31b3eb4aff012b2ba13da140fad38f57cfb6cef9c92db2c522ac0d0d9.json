{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/auth.service\";\nimport * as i2 from \"../../services/ai-chat.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nconst _c0 = [\"chatContainer\"];\nconst _c1 = [\"messageInput\"];\nfunction ChatComponent_div_20_option_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 55);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const voice_r6 = ctx.$implicit;\n    const ctx_r5 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"value\", voice_r6.name);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r5.getVoiceDisplayName(voice_r6), \" \");\n  }\n}\nfunction ChatComponent_div_20_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 31)(1, \"div\", 32)(2, \"h4\");\n    i0.ɵɵtext(3, \"AI Voice Settings\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"button\", 33);\n    i0.ɵɵlistener(\"click\", function ChatComponent_div_20_Template_button_click_4_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r7 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r7.toggleVoiceSettings());\n    });\n    i0.ɵɵelement(5, \"i\", 34);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"div\", 35)(7, \"div\", 36)(8, \"label\");\n    i0.ɵɵtext(9, \"AI Voice:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"select\", 37);\n    i0.ɵɵlistener(\"change\", function ChatComponent_div_20_Template_select_change_10_listener($event) {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r9 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r9.selectVoice($event));\n    });\n    i0.ɵɵelementStart(11, \"option\", 38);\n    i0.ɵɵtext(12, \"Auto-select best voice\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(13, ChatComponent_div_20_option_13_Template, 2, 2, \"option\", 39);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(14, \"div\", 36)(15, \"label\");\n    i0.ɵɵtext(16, \"Language:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"select\", 37);\n    i0.ɵɵlistener(\"change\", function ChatComponent_div_20_Template_select_change_17_listener($event) {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r10 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r10.updateVoiceSettings(\"language\", $event));\n    });\n    i0.ɵɵelementStart(18, \"option\", 40);\n    i0.ɵɵtext(19, \"Auto-detect\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"option\", 41);\n    i0.ɵɵtext(21, \"Hindi\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"option\", 42);\n    i0.ɵɵtext(23, \"English (India)\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(24, \"option\", 43);\n    i0.ɵɵtext(25, \"English (US)\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(26, \"option\", 44);\n    i0.ɵɵtext(27, \"English (UK)\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(28, \"div\", 36)(29, \"label\");\n    i0.ɵɵtext(30, \"Voice Gender:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(31, \"div\", 45)(32, \"button\", 46);\n    i0.ɵɵlistener(\"click\", function ChatComponent_div_20_Template_button_click_32_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r11 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r11.setVoiceGender(\"male\"));\n    });\n    i0.ɵɵelement(33, \"i\", 47);\n    i0.ɵɵtext(34, \" Male \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(35, \"button\", 46);\n    i0.ɵɵlistener(\"click\", function ChatComponent_div_20_Template_button_click_35_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r12 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r12.setVoiceGender(\"female\"));\n    });\n    i0.ɵɵelement(36, \"i\", 48);\n    i0.ɵɵtext(37, \" Female \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(38, \"small\", 30);\n    i0.ɵɵtext(39);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(40, \"div\", 36)(41, \"label\");\n    i0.ɵɵtext(42);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(43, \"input\", 49);\n    i0.ɵɵlistener(\"input\", function ChatComponent_div_20_Template_input_input_43_listener($event) {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r13 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r13.updateVoiceSettings(\"rate\", $event));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(44, \"div\", 50)(45, \"span\");\n    i0.ɵɵtext(46, \"Slow\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(47, \"span\");\n    i0.ɵɵtext(48, \"Fast\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(49, \"div\", 36)(50, \"label\");\n    i0.ɵɵtext(51);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(52, \"input\", 51);\n    i0.ɵɵlistener(\"input\", function ChatComponent_div_20_Template_input_input_52_listener($event) {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r14 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r14.updateVoiceSettings(\"pitch\", $event));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(53, \"div\", 50)(54, \"span\");\n    i0.ɵɵtext(55, \"Low\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(56, \"span\");\n    i0.ɵɵtext(57, \"High\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(58, \"div\", 36)(59, \"label\");\n    i0.ɵɵtext(60);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(61, \"input\", 52);\n    i0.ɵɵlistener(\"input\", function ChatComponent_div_20_Template_input_input_61_listener($event) {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r15 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r15.updateVoiceSettings(\"volume\", $event));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(62, \"div\", 50)(63, \"span\");\n    i0.ɵɵtext(64, \"Quiet\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(65, \"span\");\n    i0.ɵɵtext(66, \"Loud\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(67, \"div\", 36)(68, \"button\", 53);\n    i0.ɵɵlistener(\"click\", function ChatComponent_div_20_Template_button_click_68_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r16 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r16.speakMessage(\"Hello! This is a test of your AI voice settings. How does this sound?\"));\n    });\n    i0.ɵɵelement(69, \"i\", 54);\n    i0.ɵɵtext(70, \" Test Voice \");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(10);\n    i0.ɵɵproperty(\"value\", ctx_r0.voiceSettings.voiceName);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.getFilteredVoices());\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"value\", ctx_r0.voiceSettings.language);\n    i0.ɵɵadvance(15);\n    i0.ɵɵclassProp(\"active\", ctx_r0.voiceSettings.gender === \"male\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵclassProp(\"active\", ctx_r0.voiceSettings.gender === \"female\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\"Current: \", ctx_r0.voiceSettings.gender, \" voice\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"Speech Rate: \", ctx_r0.voiceSettings.rate, \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"value\", ctx_r0.voiceSettings.rate);\n    i0.ɵɵadvance(8);\n    i0.ɵɵtextInterpolate1(\"Pitch: \", ctx_r0.voiceSettings.pitch, \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"value\", ctx_r0.voiceSettings.pitch);\n    i0.ɵɵadvance(8);\n    i0.ɵɵtextInterpolate1(\"Volume: \", ctx_r0.Math.round(ctx_r0.voiceSettings.volume * 100), \"%\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"value\", ctx_r0.voiceSettings.volume);\n  }\n}\nfunction ChatComponent_div_24_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 64);\n    i0.ɵɵelement(1, \"i\", 4);\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ChatComponent_div_24_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r23 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 65)(1, \"button\", 66);\n    i0.ɵɵlistener(\"click\", function ChatComponent_div_24_div_9_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r23);\n      const message_r17 = i0.ɵɵnextContext().$implicit;\n      const ctx_r21 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r21.submitFeedback(message_r17.aiResponseId, message_r17.conversationId, 5, \"Great response!\"));\n    });\n    i0.ɵɵelement(2, \"i\", 67);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 68);\n    i0.ɵɵlistener(\"click\", function ChatComponent_div_24_div_9_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r23);\n      const message_r17 = i0.ɵɵnextContext().$implicit;\n      const ctx_r24 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r24.submitFeedback(message_r17.aiResponseId, message_r17.conversationId, 1, \"Could be better\"));\n    });\n    i0.ɵɵelement(4, \"i\", 69);\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction ChatComponent_div_24_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 70);\n    i0.ɵɵelement(1, \"i\", 71);\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ChatComponent_div_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 56)(1, \"div\", 57);\n    i0.ɵɵtemplate(2, ChatComponent_div_24_div_2_Template, 2, 0, \"div\", 58);\n    i0.ɵɵelementStart(3, \"div\", 59)(4, \"div\", 60);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 61);\n    i0.ɵɵtext(7);\n    i0.ɵɵpipe(8, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(9, ChatComponent_div_24_div_9_Template, 5, 0, \"div\", 62);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(10, ChatComponent_div_24_div_10_Template, 2, 0, \"div\", 63);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const message_r17 = ctx.$implicit;\n    i0.ɵɵproperty(\"ngClass\", message_r17.sender === \"user\" ? \"user-message\" : \"ai-message\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", message_r17.sender === \"ai\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(message_r17.text);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(8, 6, message_r17.timestamp, \"shortTime\"), \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", message_r17.sender === \"ai\" && message_r17.aiResponseId);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", message_r17.sender === \"user\");\n  }\n}\nfunction ChatComponent_div_25_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 57)(1, \"div\", 64);\n    i0.ɵɵelement(2, \"i\", 4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 59)(4, \"div\", 74)(5, \"div\", 75);\n    i0.ɵɵelement(6, \"span\")(7, \"span\")(8, \"span\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"div\", 76);\n    i0.ɵɵtext(10, \"AI is thinking...\");\n    i0.ɵɵelementEnd()()()();\n  }\n}\nfunction ChatComponent_div_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 72);\n    i0.ɵɵtemplate(1, ChatComponent_div_25_div_1_Template, 11, 0, \"div\", 73);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const message_r26 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", message_r26.isLoading);\n  }\n}\nexport class ChatComponent {\n  constructor(authService, aiChatService) {\n    this.authService = authService;\n    this.aiChatService = aiChatService;\n    this.messages = [];\n    this.newMessage = '';\n    this.userData = null;\n    this.isTyping = false;\n    this.isListening = false;\n    this.isSpeaking = false;\n    this.recognition = null;\n    this.synthesis = null;\n    this.currentConversationId = null;\n    this.isLoading = false;\n    // Voice customization settings\n    this.voiceSettings = {\n      rate: 0.9,\n      pitch: 1.05,\n      volume: 0.95,\n      voiceName: '',\n      language: 'hi-IN',\n      gender: 'male' // Gender preference (male/female)\n    };\n\n    this.availableVoices = [];\n    this.showVoiceSettings = false;\n    // Make Math available in template\n    this.Math = Math;\n  }\n  ngOnInit() {\n    this.userData = this.authService.getUserData();\n    this.addWelcomeMessage();\n    this.initializeSpeech();\n    // Load voices when they become available\n    if (this.synthesis) {\n      this.synthesis.onvoiceschanged = () => {\n        this.availableVoices = this.synthesis?.getVoices() || [];\n        console.log('Voices loaded:', this.availableVoices.length);\n        this.loadVoiceSettings();\n        // Debug: Show all available voices\n        this.debugAllVoices();\n      };\n    }\n  }\n  ngAfterViewChecked() {\n    this.scrollToBottom();\n  }\n  addWelcomeMessage() {\n    this.messages.push({\n      id: 1,\n      text: `Namaste ${this.userData?.firstName || this.userData?.username}! Main aapka AI assistant hoon. Aapko kya help chahiye aaj?`,\n      sender: 'ai',\n      timestamp: new Date()\n    });\n  }\n  sendMessage() {\n    if (this.newMessage.trim() && !this.isTyping && !this.isLoading) {\n      const userMessage = {\n        id: this.messages.length + 1,\n        text: this.newMessage.trim(),\n        sender: 'user',\n        timestamp: new Date()\n      };\n      this.messages.push(userMessage);\n      const userInput = this.newMessage;\n      this.newMessage = '';\n      this.isTyping = true;\n      this.isLoading = true;\n      // Add loading message\n      const loadingMessage = {\n        id: this.messages.length + 1,\n        text: 'Thinking...',\n        sender: 'ai',\n        timestamp: new Date(),\n        isLoading: true\n      };\n      this.messages.push(loadingMessage);\n      // Send to AI backend\n      const request = {\n        question: userInput,\n        userId: this.userData?.id?.toString() || this.userData?.username,\n        conversationId: this.currentConversationId || undefined\n      };\n      this.aiChatService.sendQuestion(request).subscribe({\n        next: response => {\n          // Remove loading message\n          this.messages = this.messages.filter(msg => !msg.isLoading);\n          // Store conversation ID for future messages\n          this.currentConversationId = response.conversationId?.toString() || null;\n          // Add AI response\n          const aiMessage = {\n            id: this.messages.length + 1,\n            text: response.response,\n            sender: 'ai',\n            timestamp: new Date(),\n            aiResponseId: response.conversationId?.toString() || '',\n            conversationId: response.conversationId?.toString() || ''\n          };\n          this.messages.push(aiMessage);\n          this.isTyping = false;\n          this.isLoading = false;\n        },\n        error: error => {\n          console.error('Error getting AI response:', error);\n          // Remove loading message\n          this.messages = this.messages.filter(msg => !msg.isLoading);\n          // Add error message\n          const errorMessage = {\n            id: this.messages.length + 1,\n            text: 'Sorry, main abhi aapki help nahi kar pa raha hoon. Please try again later.',\n            sender: 'ai',\n            timestamp: new Date()\n          };\n          this.messages.push(errorMessage);\n          this.isTyping = false;\n          this.isLoading = false;\n        }\n      });\n    }\n  }\n  onKeyPress(event) {\n    if (event.key === 'Enter' && !event.shiftKey) {\n      event.preventDefault();\n      this.sendMessage();\n    }\n  }\n  scrollToBottom() {\n    try {\n      this.chatContainer.nativeElement.scrollTop = this.chatContainer.nativeElement.scrollHeight;\n    } catch (err) {}\n  }\n  clearChat() {\n    this.messages = [];\n    this.currentConversationId = null;\n    this.addWelcomeMessage();\n  }\n  focusInput() {\n    setTimeout(() => {\n      this.messageInput.nativeElement.focus();\n    }, 100);\n  }\n  submitFeedback(questionId, conversationId, rating, feedback) {\n    const feedbackRequest = {\n      conversationId: conversationId,\n      questionId: questionId,\n      rating: rating,\n      feedback: feedback\n    };\n    this.aiChatService.submitFeedback(feedbackRequest).subscribe({\n      next: response => {\n        console.log('Feedback submitted successfully:', response);\n        // Show a brief success message\n        this.showFeedbackMessage('Thank you for your feedback!');\n      },\n      error: error => {\n        console.error('Error submitting feedback:', error);\n        this.showFeedbackMessage('Failed to submit feedback. Please try again.');\n      }\n    });\n  }\n  showFeedbackMessage(message) {\n    // Create a temporary feedback message\n    const feedbackMessage = {\n      id: this.messages.length + 1,\n      text: message,\n      sender: 'ai',\n      timestamp: new Date()\n    };\n    this.messages.push(feedbackMessage);\n    // Remove the feedback message after 3 seconds\n    setTimeout(() => {\n      this.messages = this.messages.filter(msg => msg.id !== feedbackMessage.id);\n    }, 3000);\n  }\n  initializeSpeech() {\n    // Initialize speech synthesis\n    if ('speechSynthesis' in window) {\n      this.synthesis = window.speechSynthesis;\n    }\n    // Initialize speech recognition with enhanced settings\n    if ('webkitSpeechRecognition' in window) {\n      this.recognition = new window.webkitSpeechRecognition();\n      // Enhanced recognition settings for better accuracy\n      this.recognition.continuous = false;\n      this.recognition.interimResults = true; // Get interim results for better feedback\n      this.recognition.lang = 'hi-IN'; // Hindi (India)\n      this.recognition.maxAlternatives = 5; // Get more alternatives for better accuracy\n      // Additional settings for better performance\n      this.recognition.grammars = null; // Allow any speech\n      this.recognition.serviceURI = ''; // Use default service\n      this.recognition.onstart = () => {\n        this.isListening = true;\n        console.log('Speech recognition started');\n      };\n      this.recognition.onresult = event => {\n        let finalTranscript = '';\n        let interimTranscript = '';\n        // Process all results\n        for (let i = event.resultIndex; i < event.results.length; i++) {\n          const transcript = event.results[i][0].transcript;\n          if (event.results[i].isFinal) {\n            finalTranscript += transcript;\n          } else {\n            interimTranscript += transcript;\n          }\n        }\n        // Show interim results for better user feedback\n        if (interimTranscript) {\n          this.newMessage = this.convertHindiToEnglish(interimTranscript);\n        }\n        // When we have final results, process them\n        if (finalTranscript) {\n          const englishText = this.convertHindiToEnglish(finalTranscript);\n          this.newMessage = englishText;\n          console.log('Final transcript:', englishText);\n          // Auto-send the message after a short delay\n          setTimeout(() => {\n            if (this.newMessage.trim()) {\n              this.sendMessage();\n            }\n          }, 500);\n        }\n      };\n      this.recognition.onerror = event => {\n        console.error('Speech recognition error:', event.error);\n        this.isListening = false;\n        // Show user-friendly error messages\n        let errorMessage = 'Voice input error. Please try again.';\n        switch (event.error) {\n          case 'no-speech':\n            errorMessage = 'No speech detected. Please speak clearly.';\n            break;\n          case 'audio-capture':\n            errorMessage = 'Microphone not found. Please check your microphone.';\n            break;\n          case 'not-allowed':\n            errorMessage = 'Microphone access denied. Please allow microphone access.';\n            break;\n          case 'network':\n            errorMessage = 'Network error. Please check your internet connection.';\n            break;\n        }\n        // You can show this error message to the user\n        console.log(errorMessage);\n      };\n      this.recognition.onend = () => {\n        this.isListening = false;\n        console.log('Speech recognition ended');\n      };\n      this.recognition.onaudiostart = () => {\n        console.log('Audio capturing started');\n      };\n      this.recognition.onaudioend = () => {\n        console.log('Audio capturing ended');\n      };\n      this.recognition.onsoundstart = () => {\n        console.log('Sound detected');\n      };\n      this.recognition.onsoundend = () => {\n        console.log('Sound ended');\n      };\n      this.recognition.onspeechstart = () => {\n        console.log('Speech started');\n      };\n      this.recognition.onspeechend = () => {\n        console.log('Speech ended');\n      };\n    } else {\n      console.error('Speech recognition not supported in this browser');\n    }\n  }\n  startListening() {\n    if (this.recognition && !this.isListening) {\n      try {\n        this.recognition.start();\n      } catch (error) {\n        console.error('Error starting speech recognition:', error);\n        this.isListening = false;\n      }\n    }\n  }\n  stopListening() {\n    if (this.recognition && this.isListening) {\n      try {\n        this.recognition.stop();\n      } catch (error) {\n        console.error('Error stopping speech recognition:', error);\n      }\n    }\n  }\n  speakMessage(text) {\n    if (this.synthesis) {\n      try {\n        // Stop any current speech\n        this.synthesis.cancel();\n        // Process text for more natural speech\n        const processedText = this.processTextForSpeech(text);\n        const utterance = new SpeechSynthesisUtterance(processedText);\n        // Enhanced voice selection based on gender preference\n        const voices = this.synthesis.getVoices();\n        const preferredVoices = this.getPreferredVoicesByGender();\n        // Find the best available voice with enhanced selection\n        let selectedVoice = this.selectBestVoice(voices, preferredVoices);\n        if (selectedVoice) {\n          utterance.voice = selectedVoice;\n          console.log('Selected voice:', selectedVoice.name, 'Language:', selectedVoice.lang, 'Gender preference:', this.voiceSettings.gender);\n          console.log('Is male voice:', this.isMaleVoice(selectedVoice));\n          console.log('Is female voice:', this.isFemaleVoice(selectedVoice));\n        } else {\n          console.warn('No suitable voice found for gender preference:', this.voiceSettings.gender);\n          // Log available voices for debugging\n          console.log('Available voices:');\n          voices.forEach(voice => {\n            console.log(`- ${voice.name} (${voice.lang}) - Male: ${this.isMaleVoice(voice)}, Female: ${this.isFemaleVoice(voice)}`);\n          });\n        }\n        // Apply user voice settings for personalized AI voice\n        utterance.rate = this.voiceSettings.rate;\n        utterance.pitch = this.voiceSettings.pitch;\n        utterance.volume = this.voiceSettings.volume;\n        // Always use Hindi language for male voice consistency\n        utterance.lang = 'hi-IN';\n        // Add natural pauses and emphasis\n        this.addSpeechEvents(utterance);\n        this.synthesis.speak(utterance);\n      } catch (error) {\n        console.error('Error with speech synthesis:', error);\n        this.isSpeaking = false;\n      }\n    }\n  }\n  processTextForSpeech(text) {\n    // Add natural pauses and emphasis for more genuine speech\n    let processedText = text;\n    // Add pauses after sentences\n    processedText = processedText.replace(/\\./g, '... ');\n    processedText = processedText.replace(/\\!/g, '!... ');\n    processedText = processedText.replace(/\\?/g, '?... ');\n    // Add emphasis to important words\n    processedText = processedText.replace(/\\b(Ayush Dwivedi|Alka Dwivedi|Anshi Shukla|Vijay Kumar Dwivedi|Shreya Dwivedi)\\b/gi, '<emphasis level=\"strong\">$1</emphasis>');\n    // Add natural pauses for better flow\n    processedText = processedText.replace(/,/g, ',... ');\n    processedText = processedText.replace(/;/g, ';... ');\n    // Optimize for Hindi-English mixed speech\n    if (this.containsHindi(text)) {\n      processedText = this.optimizeHindiEnglishSpeech(processedText);\n    }\n    return processedText;\n  }\n  selectBestVoice(voices, preferredVoices) {\n    // First, try to use user's selected voice (if it matches gender preference)\n    if (this.voiceSettings.voiceName) {\n      const userVoice = voices.find(v => v.name === this.voiceSettings.voiceName);\n      if (userVoice && this.matchesGenderPreference(userVoice)) {\n        return userVoice;\n      }\n    }\n    // Then try to find exact matches from preferred voices\n    for (const voiceName of preferredVoices) {\n      const voice = voices.find(v => v.name === voiceName);\n      if (voice && this.matchesGenderPreference(voice)) {\n        return voice;\n      }\n    }\n    // If no exact match, find best available Hindi voice matching gender preference\n    const hindiVoice = voices.find(v => v.lang.startsWith('hi-IN') && this.matchesGenderPreference(v));\n    if (hindiVoice) {\n      return hindiVoice;\n    }\n    // If no Hindi voice available, try Indian English voice matching gender preference\n    const indianEnglishVoice = voices.find(v => v.lang.startsWith('en-IN') && this.matchesGenderPreference(v));\n    if (indianEnglishVoice) {\n      return indianEnglishVoice;\n    }\n    // Last resort: any Hindi voice (but log a warning)\n    const anyHindiVoice = voices.find(v => v.lang.startsWith('hi-IN'));\n    if (anyHindiVoice) {\n      console.warn(`No ${this.voiceSettings.gender} Hindi voice found, using available Hindi voice:`, anyHindiVoice.name);\n      return anyHindiVoice;\n    }\n    // Final fallback: any available voice (but log a warning)\n    if (voices.length > 0) {\n      console.warn('No Hindi voice found, using fallback voice:', voices[0].name);\n      return voices[0];\n    }\n    return null;\n  }\n  isMaleVoice(voice) {\n    const voiceName = voice.name.toLowerCase();\n    // Explicit male voice indicators\n    const maleIndicators = ['male', 'madhur', 'prabhat', 'guy', 'ryan', 'davis', 'alfie', 'david', 'mark', 'james', 'john', 'mike', 'tom', 'alex'];\n    // Explicit female voice indicators\n    const femaleIndicators = ['female', 'neerja', 'jenny', 'sonia', 'sarah', 'lisa', 'emma', 'anna', 'maria', 'sophie', 'lisa', 'kate', 'jane', 'mary'];\n    // Check for explicit male indicators\n    const hasMaleIndicator = maleIndicators.some(indicator => voiceName.includes(indicator));\n    // Check for explicit female indicators\n    const hasFemaleIndicator = femaleIndicators.some(indicator => voiceName.includes(indicator));\n    // If we have explicit indicators, use them\n    if (hasMaleIndicator && !hasFemaleIndicator) {\n      return true;\n    }\n    if (hasFemaleIndicator && !hasMaleIndicator) {\n      return false;\n    }\n    // For voices without clear indicators, use pitch analysis\n    // Male voices typically have lower pitch values\n    if (voice.name.includes('Neural')) {\n      // For neural voices, rely on name patterns\n      return !hasFemaleIndicator;\n    }\n    // Default to checking if it's NOT explicitly female\n    return !hasFemaleIndicator;\n  }\n  isFemaleVoice(voice) {\n    const voiceName = voice.name.toLowerCase();\n    // Explicit female voice indicators\n    const femaleIndicators = ['female', 'neerja', 'jenny', 'sonia', 'sarah', 'lisa', 'emma', 'anna', 'maria', 'sophie', 'kate', 'jane', 'mary', 'alice'];\n    // Explicit male voice indicators\n    const maleIndicators = ['male', 'madhur', 'prabhat', 'guy', 'ryan', 'davis', 'alfie', 'david', 'mark', 'james', 'john', 'mike', 'tom', 'alex'];\n    // Check for explicit female indicators\n    const hasFemaleIndicator = femaleIndicators.some(indicator => voiceName.includes(indicator));\n    // Check for explicit male indicators\n    const hasMaleIndicator = maleIndicators.some(indicator => voiceName.includes(indicator));\n    // If we have explicit indicators, use them\n    if (hasFemaleIndicator && !hasMaleIndicator) {\n      return true;\n    }\n    if (hasMaleIndicator && !hasFemaleIndicator) {\n      return false;\n    }\n    // For voices without clear indicators, use name patterns\n    if (voice.name.includes('Neural')) {\n      // For neural voices, rely on name patterns\n      return hasFemaleIndicator;\n    }\n    // Default to checking if it's explicitly female\n    return hasFemaleIndicator;\n  }\n  isMaleHindiVoice(voice) {\n    return voice.lang.startsWith('hi-IN') && this.isMaleVoice(voice);\n  }\n  matchesGenderPreference(voice) {\n    if (this.voiceSettings.gender === 'male') {\n      return this.isMaleVoice(voice);\n    } else {\n      return this.isFemaleVoice(voice);\n    }\n  }\n  getPreferredVoicesByGender() {\n    if (this.voiceSettings.gender === 'male') {\n      return [\n      // Hindi Male voices - in order of preference\n      'hi-IN-MadhurNeural', 'hi-IN-Madhur', 'hi-IN',\n      // Only if no Hindi male voice is available, fallback to Indian English male\n      'en-IN-PrabhatNeural', 'en-IN-Prabhat', 'en-IN' // English (India) (will find male if available)\n      ];\n    } else {\n      return [\n      // Hindi Female voices - in order of preference\n      'hi-IN-NeerjaNeural', 'hi-IN-Neerja', 'hi-IN',\n      // Only if no Hindi female voice is available, fallback to Indian English female\n      'en-IN-NeerjaNeural', 'en-IN-Neerja', 'en-IN' // English (India) (will find female if available)\n      ];\n    }\n  }\n\n  detectLanguage(text) {\n    // Always prefer Hindi for male voice\n    const hindiWords = ['है', 'में', 'आप', 'मुझे', 'क्या', 'कैसे', 'कहाँ', 'कब', 'कौन', 'मदद', 'समस्या', 'समाधान'];\n    const hasHindi = hindiWords.some(word => text.includes(word));\n    // Always return Hindi if Hindi words are detected, otherwise use Hindi as default\n    if (hasHindi) {\n      return 'hi-IN';\n    } else {\n      // Even for English text, prefer Hindi voice for consistency\n      return 'hi-IN';\n    }\n  }\n  containsHindi(text) {\n    const hindiPattern = /[\\u0900-\\u097F]/;\n    return hindiPattern.test(text);\n  }\n  optimizeHindiEnglishSpeech(text) {\n    // Add natural pauses between Hindi and English words\n    text = text.replace(/([a-zA-Z]+)([हैमेंआपमुझेक्याकैसेकहाँकबकौन])/g, '$1... $2');\n    text = text.replace(/([हैमेंआपमुझेक्याकैसेकहाँकबकौन])([a-zA-Z]+)/g, '$1... $2');\n    return text;\n  }\n  addSpeechEvents(utterance) {\n    utterance.onstart = () => {\n      this.isSpeaking = true;\n      console.log('AI started speaking');\n    };\n    utterance.onend = () => {\n      this.isSpeaking = false;\n      console.log('AI finished speaking');\n    };\n    utterance.onpause = () => {\n      console.log('AI speech paused');\n    };\n    utterance.onresume = () => {\n      console.log('AI speech resumed');\n    };\n    utterance.onerror = event => {\n      console.error('Speech synthesis error:', event);\n      this.isSpeaking = false;\n    };\n  }\n  stopSpeaking() {\n    if (this.synthesis) {\n      try {\n        this.synthesis.cancel();\n        this.isSpeaking = false;\n      } catch (error) {\n        console.error('Error stopping speech synthesis:', error);\n      }\n    }\n  }\n  toggleSpeech() {\n    if (this.isSpeaking) {\n      this.stopSpeaking();\n    } else {\n      // Speak the last AI message\n      const lastAiMessage = this.messages.filter(msg => msg.sender === 'ai').pop();\n      if (lastAiMessage) {\n        this.speakMessage(lastAiMessage.text);\n      }\n    }\n  }\n  getAvailableVoices() {\n    if (this.synthesis) {\n      const voices = this.synthesis.getVoices();\n      console.log('Available voices:');\n      voices.forEach(voice => {\n        const isMale = this.isMaleVoice(voice);\n        const isFemale = this.isFemaleVoice(voice);\n        console.log(`- ${voice.name} (${voice.lang}) - Male: ${isMale}, Female: ${isFemale}`);\n      });\n      // Show Hindi voices specifically\n      const hindiVoices = voices.filter(v => v.lang.startsWith('hi-IN'));\n      console.log('Hindi voices:');\n      hindiVoices.forEach(voice => {\n        const isMale = this.isMaleVoice(voice);\n        const isFemale = this.isFemaleVoice(voice);\n        console.log(`- ${voice.name} (${voice.lang}) - Male: ${isMale}, Female: ${isFemale}`);\n      });\n    }\n  }\n  convertHindiToEnglish(hindiText) {\n    // Common Hindi to English word mappings\n    const hindiToEnglish = {\n      // Basic words\n      'नमस्ते': 'namaste',\n      'है': 'hai',\n      'में': 'main',\n      'आप': 'aap',\n      'मुझे': 'mujhe',\n      'क्या': 'kya',\n      'कैसे': 'kaise',\n      'कहाँ': 'kahan',\n      'कब': 'kab',\n      'कौन': 'kaun',\n      // Common phrases\n      'मदद': 'help',\n      'समस्या': 'problem',\n      'समाधान': 'solution',\n      'जानकारी': 'information',\n      'प्रश्न': 'question',\n      'उत्तर': 'answer',\n      'सहायता': 'assistance',\n      'सेवा': 'service',\n      // Actions\n      'करना': 'karna',\n      'जाना': 'jana',\n      'आना': 'aana',\n      'देखना': 'dekhna',\n      'सुनना': 'sunna',\n      'बोलना': 'bolna',\n      'समझना': 'samajhna',\n      'सोचना': 'sochna',\n      // Time related\n      'आज': 'aaj',\n      'कल': 'kal',\n      'परसों': 'parson',\n      'सुबह': 'subah',\n      'शाम': 'sham',\n      'रात': 'raat',\n      'दिन': 'din',\n      // Numbers\n      'एक': 'ek',\n      'दो': 'do',\n      'तीन': 'teen',\n      'चार': 'char',\n      'पांच': 'paanch',\n      'छह': 'cheh',\n      'सात': 'saat',\n      'आठ': 'aath',\n      'नौ': 'nau',\n      'दस': 'das',\n      // Common expressions\n      'धन्यवाद': 'thank you',\n      'कृपया': 'please',\n      'माफ़ करें': 'sorry',\n      'ठीक है': 'okay',\n      'हाँ': 'yes',\n      'नहीं': 'no',\n      'बहुत': 'bahut',\n      'अच्छा': 'accha',\n      'बुरा': 'bura',\n      // Technology terms\n      'कंप्यूटर': 'computer',\n      'मोबाइल': 'mobile',\n      'इंटरनेट': 'internet',\n      'वेबसाइट': 'website',\n      'एप्लिकेशन': 'application',\n      'सिस्टम': 'system',\n      'डेटा': 'data',\n      'फ़ाइल': 'file',\n      // Business terms\n      'कंपनी': 'company',\n      'कार्यालय': 'office',\n      'कार्य': 'work',\n      'पैसा': 'money',\n      'लेनदेन': 'transaction',\n      'खाता': 'account',\n      'बैंक': 'bank',\n      // Family and relationships\n      'परिवार': 'family',\n      'दोस्त': 'friend',\n      'भाई': 'bhai',\n      'बहन': 'behen',\n      'माता': 'mata',\n      'पिता': 'pita',\n      'बेटा': 'beta',\n      'बेटी': 'beti'\n    };\n    let englishText = hindiText;\n    // Convert Hindi words to English\n    for (const [hindi, english] of Object.entries(hindiToEnglish)) {\n      const regex = new RegExp(hindi, 'gi');\n      englishText = englishText.replace(regex, english);\n    }\n    // Handle common Hindi patterns\n    englishText = englishText.replace(/हूँ/g, 'hoon').replace(/हैं/g, 'hain').replace(/था/g, 'tha').replace(/थी/g, 'thi').replace(/थे/g, 'the').replace(/रहा/g, 'raha').replace(/रही/g, 'rahi').replace(/रहे/g, 'rahe').replace(/कर/g, 'kar').replace(/की/g, 'ki').replace(/का/g, 'ka').replace(/के/g, 'ke').replace(/को/g, 'ko').replace(/से/g, 'se').replace(/में/g, 'main').replace(/पर/g, 'par').replace(/तक/g, 'tak').replace(/साथ/g, 'saath').replace(/बिना/g, 'bina').replace(/लिए/g, 'liye').replace(/द्वारा/g, 'dwara').replace(/के लिए/g, 'ke liye').replace(/की तरह/g, 'ki tarah').replace(/के बारे में/g, 'ke bare mein').replace(/के साथ/g, 'ke saath').replace(/के बिना/g, 'ke bina').replace(/के बाद/g, 'ke baad').replace(/के पहले/g, 'ke pehle').replace(/के अंदर/g, 'ke andar').replace(/के बाहर/g, 'ke bahar').replace(/के ऊपर/g, 'ke upar').replace(/के नीचे/g, 'ke neeche').replace(/के आगे/g, 'ke aage').replace(/के पीछे/g, 'ke peeche').replace(/के दाएं/g, 'ke daayein').replace(/के बाएं/g, 'ke baayein');\n    return englishText;\n  }\n  // Voice customization methods\n  toggleVoiceSettings() {\n    this.showVoiceSettings = !this.showVoiceSettings;\n  }\n  toggleVoiceGender() {\n    this.voiceSettings.gender = this.voiceSettings.gender === 'male' ? 'female' : 'male';\n    this.saveVoiceSettings();\n    console.log(`Voice gender switched to: ${this.voiceSettings.gender}`);\n    // Show a brief notification\n    this.showFeedbackMessage(`Voice switched to ${this.voiceSettings.gender} voice`);\n  }\n  setVoiceGender(gender) {\n    this.voiceSettings.gender = gender;\n    this.saveVoiceSettings();\n    console.log(`Voice gender set to: ${gender}`);\n    // Debug: Show available voices for this gender\n    this.debugVoiceSelection();\n    // Show a brief notification\n    this.showFeedbackMessage(`Voice switched to ${gender} voice`);\n  }\n  // Manual voice selection for testing\n  forceMaleVoice() {\n    if (this.synthesis) {\n      const voices = this.synthesis.getVoices();\n      // Try to find any male voice (Hindi or Indian English)\n      const maleVoice = voices.find(voice => this.isMaleVoice(voice) && (voice.lang.startsWith('hi-IN') || voice.lang.startsWith('en-IN')));\n      if (maleVoice) {\n        this.voiceSettings.voiceName = maleVoice.name;\n        this.saveVoiceSettings();\n        console.log(`Forced male voice: ${maleVoice.name}`);\n        this.showFeedbackMessage(`Forced male voice: ${maleVoice.name}`);\n      } else {\n        console.log('No male voice found!');\n        this.showFeedbackMessage('No male voice found on your system');\n      }\n    }\n  }\n  // Manual voice selection for testing\n  forceFemaleVoice() {\n    if (this.synthesis) {\n      const voices = this.synthesis.getVoices();\n      // Try to find any female voice (Hindi or Indian English)\n      const femaleVoice = voices.find(voice => this.isFemaleVoice(voice) && (voice.lang.startsWith('hi-IN') || voice.lang.startsWith('en-IN')));\n      if (femaleVoice) {\n        this.voiceSettings.voiceName = femaleVoice.name;\n        this.saveVoiceSettings();\n        console.log(`Forced female voice: ${femaleVoice.name}`);\n        this.showFeedbackMessage(`Forced female voice: ${femaleVoice.name}`);\n      } else {\n        console.log('No female voice found!');\n        this.showFeedbackMessage('No female voice found on your system');\n      }\n    }\n  }\n  debugVoiceSelection() {\n    if (this.synthesis) {\n      const voices = this.synthesis.getVoices();\n      const preferredVoices = this.getPreferredVoicesByGender();\n      console.log(`=== Voice Selection Debug for ${this.voiceSettings.gender} ===`);\n      console.log('Preferred voices:', preferredVoices);\n      // Show all Hindi voices with gender detection\n      const hindiVoices = voices.filter(v => v.lang.startsWith('hi-IN'));\n      console.log('Hindi voices available:');\n      hindiVoices.forEach(voice => {\n        const isMale = this.isMaleVoice(voice);\n        const isFemale = this.isFemaleVoice(voice);\n        const matchesGender = this.matchesGenderPreference(voice);\n        console.log(`- ${voice.name}: Male=${isMale}, Female=${isFemale}, Matches=${matchesGender}`);\n      });\n      // Show what would be selected\n      const selectedVoice = this.selectBestVoice(voices, preferredVoices);\n      if (selectedVoice) {\n        console.log(`Selected voice: ${selectedVoice.name} (${selectedVoice.lang})`);\n      } else {\n        console.log('No voice selected!');\n      }\n    }\n  }\n  debugAllVoices() {\n    if (this.synthesis) {\n      const voices = this.synthesis.getVoices();\n      console.log('=== ALL AVAILABLE VOICES ===');\n      voices.forEach(voice => {\n        const isMale = this.isMaleVoice(voice);\n        const isFemale = this.isFemaleVoice(voice);\n        console.log(`- ${voice.name} (${voice.lang}) - Male: ${isMale}, Female: ${isFemale}`);\n      });\n      // Show Hindi voices specifically\n      const hindiVoices = voices.filter(v => v.lang.startsWith('hi-IN'));\n      console.log('=== HINDI VOICES ===');\n      if (hindiVoices.length === 0) {\n        console.log('No Hindi voices found!');\n      } else {\n        hindiVoices.forEach(voice => {\n          const isMale = this.isMaleVoice(voice);\n          const isFemale = this.isFemaleVoice(voice);\n          console.log(`- ${voice.name} (${voice.lang}) - Male: ${isMale}, Female: ${isFemale}`);\n        });\n      }\n      // Show Indian English voices\n      const indianEnglishVoices = voices.filter(v => v.lang.startsWith('en-IN'));\n      console.log('=== INDIAN ENGLISH VOICES ===');\n      if (indianEnglishVoices.length === 0) {\n        console.log('No Indian English voices found!');\n      } else {\n        indianEnglishVoices.forEach(voice => {\n          const isMale = this.isMaleVoice(voice);\n          const isFemale = this.isFemaleVoice(voice);\n          console.log(`- ${voice.name} (${voice.lang}) - Male: ${isMale}, Female: ${isFemale}`);\n        });\n      }\n    }\n  }\n  updateVoiceSettings(setting, event) {\n    const target = event.target;\n    const value = setting === 'rate' || setting === 'pitch' || setting === 'volume' ? parseFloat(target.value) : target.value;\n    this.voiceSettings[setting] = value;\n    this.saveVoiceSettings();\n  }\n  selectVoice(event) {\n    const target = event.target;\n    const voiceName = target.value;\n    this.voiceSettings.voiceName = voiceName;\n    this.saveVoiceSettings();\n    console.log('Voice selected:', voiceName);\n  }\n  loadVoiceSettings() {\n    const saved = localStorage.getItem('aiVoiceSettings');\n    if (saved) {\n      this.voiceSettings = {\n        ...this.voiceSettings,\n        ...JSON.parse(saved)\n      };\n    }\n  }\n  saveVoiceSettings() {\n    localStorage.setItem('aiVoiceSettings', JSON.stringify(this.voiceSettings));\n  }\n  getFilteredVoices() {\n    if (this.voiceSettings.language === 'auto') {\n      return this.availableVoices;\n    }\n    return this.availableVoices.filter(voice => voice.lang.startsWith(this.voiceSettings.language));\n  }\n  getVoiceDisplayName(voice) {\n    const lang = voice.lang.split('-')[0];\n    const country = voice.lang.split('-')[1];\n    const isNeural = voice.name.includes('Neural');\n    let displayName = voice.name;\n    if (isNeural) {\n      displayName += ' (Neural)';\n    }\n    displayName += ` (${lang.toUpperCase()}-${country})`;\n    return displayName;\n  }\n  static {\n    this.ɵfac = function ChatComponent_Factory(t) {\n      return new (t || ChatComponent)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.AiChatService));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: ChatComponent,\n      selectors: [[\"app-chat\"]],\n      viewQuery: function ChatComponent_Query(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵviewQuery(_c0, 5);\n          i0.ɵɵviewQuery(_c1, 5);\n        }\n        if (rf & 2) {\n          let _t;\n          i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.chatContainer = _t.first);\n          i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.messageInput = _t.first);\n        }\n      },\n      decls: 38,\n      vars: 25,\n      consts: [[1, \"chat-container\"], [1, \"chat-header\"], [1, \"chat-header-content\"], [1, \"ai-avatar\"], [1, \"bi\", \"bi-robot\"], [1, \"chat-info\"], [1, \"status\"], [1, \"status-dot\"], [1, \"chat-actions\"], [\"title\", \"Toggle Voice Gender\", 1, \"btn\", \"btn-voice-toggle\", 3, \"click\"], [1, \"bi\"], [\"title\", \"Voice Settings\", 1, \"btn\", \"btn-voice-settings\", 3, \"click\"], [1, \"bi\", \"bi-gear\"], [\"title\", \"Speak Last AI Message\", 1, \"btn\", \"btn-speak\", 3, \"click\"], [\"title\", \"Clear Chat\", 1, \"btn\", \"btn-clear\", 3, \"click\"], [1, \"bi\", \"bi-trash\"], [\"class\", \"voice-settings-panel\", 4, \"ngIf\"], [1, \"chat-messages\"], [\"chatContainer\", \"\"], [1, \"messages-container\"], [\"class\", \"message-wrapper\", 3, \"ngClass\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"message-wrapper ai-message\", 4, \"ngFor\", \"ngForOf\"], [1, \"chat-input-container\"], [1, \"chat-input-wrapper\"], [1, \"input-group\"], [\"placeholder\", \"Type your message here...\", \"rows\", \"1\", \"maxlength\", \"500\", 1, \"form-control\", \"chat-input\", 3, \"ngModel\", \"ngModelChange\", \"keypress\"], [\"messageInput\", \"\"], [\"title\", \"Voice Input\", 1, \"btn\", \"btn-mic\", 3, \"click\"], [1, \"btn\", \"btn-send\", 3, \"disabled\", \"click\"], [1, \"input-footer\"], [1, \"text-muted\"], [1, \"voice-settings-panel\"], [1, \"voice-settings-header\"], [1, \"btn-close\", 3, \"click\"], [1, \"bi\", \"bi-x\"], [1, \"voice-settings-content\"], [1, \"setting-group\"], [1, \"form-control\", 3, \"value\", \"change\"], [\"value\", \"\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"value\", \"auto\"], [\"value\", \"hi-IN\"], [\"value\", \"en-IN\"], [\"value\", \"en-US\"], [\"value\", \"en-GB\"], [1, \"gender-toggle-container\"], [1, \"btn\", \"btn-gender-toggle\", 3, \"click\"], [1, \"bi\", \"bi-gender-male\"], [1, \"bi\", \"bi-gender-female\"], [\"type\", \"range\", \"min\", \"0.5\", \"max\", \"2.0\", \"step\", \"0.1\", 1, \"form-range\", 3, \"value\", \"input\"], [1, \"range-labels\"], [\"type\", \"range\", \"min\", \"0.5\", \"max\", \"2.0\", \"step\", \"0.05\", 1, \"form-range\", 3, \"value\", \"input\"], [\"type\", \"range\", \"min\", \"0.1\", \"max\", \"1.0\", \"step\", \"0.05\", 1, \"form-range\", 3, \"value\", \"input\"], [1, \"btn\", \"btn-test-voice\", 3, \"click\"], [1, \"bi\", \"bi-play-circle\"], [3, \"value\"], [1, \"message-wrapper\", 3, \"ngClass\"], [1, \"message\"], [\"class\", \"message-avatar\", 4, \"ngIf\"], [1, \"message-content\"], [1, \"message-text\"], [1, \"message-time\"], [\"class\", \"message-feedback\", 4, \"ngIf\"], [\"class\", \"message-avatar user-avatar\", 4, \"ngIf\"], [1, \"message-avatar\"], [1, \"message-feedback\"], [\"title\", \"Good response\", 1, \"btn-feedback\", \"btn-thumbs-up\", 3, \"click\"], [1, \"bi\", \"bi-hand-thumbs-up\"], [\"title\", \"Poor response\", 1, \"btn-feedback\", \"btn-thumbs-down\", 3, \"click\"], [1, \"bi\", \"bi-hand-thumbs-down\"], [1, \"message-avatar\", \"user-avatar\"], [1, \"bi\", \"bi-person\"], [1, \"message-wrapper\", \"ai-message\"], [\"class\", \"message\", 4, \"ngIf\"], [1, \"loading-message\"], [1, \"typing-indicator\"], [1, \"loading-text\"]],\n      template: function ChatComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3);\n          i0.ɵɵelement(4, \"i\", 4);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(5, \"div\", 5)(6, \"h3\");\n          i0.ɵɵtext(7, \"AI Assistant\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(8, \"p\", 6);\n          i0.ɵɵelement(9, \"span\", 7);\n          i0.ɵɵtext(10, \" Online \");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(11, \"div\", 8)(12, \"button\", 9);\n          i0.ɵɵlistener(\"click\", function ChatComponent_Template_button_click_12_listener() {\n            return ctx.toggleVoiceGender();\n          });\n          i0.ɵɵelement(13, \"i\", 10);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(14, \"button\", 11);\n          i0.ɵɵlistener(\"click\", function ChatComponent_Template_button_click_14_listener() {\n            return ctx.toggleVoiceSettings();\n          });\n          i0.ɵɵelement(15, \"i\", 12);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(16, \"button\", 13);\n          i0.ɵɵlistener(\"click\", function ChatComponent_Template_button_click_16_listener() {\n            return ctx.toggleSpeech();\n          });\n          i0.ɵɵelement(17, \"i\", 10);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(18, \"button\", 14);\n          i0.ɵɵlistener(\"click\", function ChatComponent_Template_button_click_18_listener() {\n            return ctx.clearChat();\n          });\n          i0.ɵɵelement(19, \"i\", 15);\n          i0.ɵɵelementEnd()()()();\n          i0.ɵɵtemplate(20, ChatComponent_div_20_Template, 71, 14, \"div\", 16);\n          i0.ɵɵelementStart(21, \"div\", 17, 18)(23, \"div\", 19);\n          i0.ɵɵtemplate(24, ChatComponent_div_24_Template, 11, 9, \"div\", 20);\n          i0.ɵɵtemplate(25, ChatComponent_div_25_Template, 2, 1, \"div\", 21);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(26, \"div\", 22)(27, \"div\", 23)(28, \"div\", 24)(29, \"textarea\", 25, 26);\n          i0.ɵɵlistener(\"ngModelChange\", function ChatComponent_Template_textarea_ngModelChange_29_listener($event) {\n            return ctx.newMessage = $event;\n          })(\"keypress\", function ChatComponent_Template_textarea_keypress_29_listener($event) {\n            return ctx.onKeyPress($event);\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(31, \"button\", 27);\n          i0.ɵɵlistener(\"click\", function ChatComponent_Template_button_click_31_listener() {\n            return ctx.isListening ? ctx.stopListening() : ctx.startListening();\n          });\n          i0.ɵɵelement(32, \"i\", 10);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(33, \"button\", 28);\n          i0.ɵɵlistener(\"click\", function ChatComponent_Template_button_click_33_listener() {\n            return ctx.sendMessage();\n          });\n          i0.ɵɵelement(34, \"i\", 10);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(35, \"div\", 29)(36, \"small\", 30);\n          i0.ɵɵtext(37, \" Press Enter to send, Shift+Enter for new line \");\n          i0.ɵɵelementEnd()()()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(13);\n          i0.ɵɵclassProp(\"bi-gender-male\", ctx.voiceSettings.gender === \"male\")(\"bi-gender-female\", ctx.voiceSettings.gender === \"female\");\n          i0.ɵɵadvance(4);\n          i0.ɵɵclassProp(\"bi-volume-up\", !ctx.isSpeaking)(\"bi-volume-mute\", ctx.isSpeaking);\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngIf\", ctx.showVoiceSettings);\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"ngForOf\", ctx.messages);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngForOf\", ctx.messages);\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"ngModel\", ctx.newMessage);\n          i0.ɵɵadvance(2);\n          i0.ɵɵclassProp(\"listening\", ctx.isListening);\n          i0.ɵɵadvance(1);\n          i0.ɵɵclassProp(\"bi-mic\", !ctx.isListening)(\"bi-mic-mute\", ctx.isListening);\n          i0.ɵɵadvance(1);\n          i0.ɵɵclassProp(\"loading\", ctx.isLoading);\n          i0.ɵɵproperty(\"disabled\", !ctx.newMessage.trim() || ctx.isTyping || ctx.isLoading);\n          i0.ɵɵadvance(1);\n          i0.ɵɵclassProp(\"bi-send\", !ctx.isLoading)(\"bi-hourglass-split\", ctx.isLoading);\n        }\n      },\n      dependencies: [i3.NgClass, i3.NgForOf, i3.NgIf, i4.NgSelectOption, i4.ɵNgSelectMultipleOption, i4.DefaultValueAccessor, i4.NgControlStatus, i4.MaxLengthValidator, i4.NgModel, i3.DatePipe],\n      styles: [\"\\n\\n.chat-container[_ngcontent-%COMP%] {\\n  height: calc(100vh - 80px);\\n  display: flex;\\n  flex-direction: column;\\n  background: linear-gradient(135deg, #0f0f23 0%, #1a1a2e 25%, #16213e 50%, #0f3460 75%, #533483 100%);\\n  position: relative;\\n  overflow: hidden;\\n}\\n\\n.chat-container[_ngcontent-%COMP%]::before {\\n  content: '';\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  right: 0;\\n  bottom: 0;\\n  background: \\n    radial-gradient(circle at 20% 80%, rgba(120, 119, 198, 0.1) 0%, transparent 50%),\\n    radial-gradient(circle at 80% 20%, rgba(255, 119, 198, 0.1) 0%, transparent 50%),\\n    radial-gradient(circle at 40% 40%, rgba(120, 219, 255, 0.05) 0%, transparent 50%);\\n  pointer-events: none;\\n  z-index: 0;\\n}\\n\\n\\n\\n.chat-header[_ngcontent-%COMP%] {\\n  background: rgba(15, 15, 35, 0.9);\\n  -webkit-backdrop-filter: blur(20px);\\n          backdrop-filter: blur(20px);\\n  border-bottom: 1px solid rgba(120, 119, 198, 0.3);\\n  padding: 1rem;\\n  position: relative;\\n  z-index: 1;\\n}\\n\\n.chat-header-content[_ngcontent-%COMP%] {\\n  display: flex;\\n  align-items: center;\\n  justify-content: space-between;\\n}\\n\\n.ai-avatar[_ngcontent-%COMP%] {\\n  width: 50px;\\n  height: 50px;\\n  background: linear-gradient(45deg, #00d4ff, #4ecdc4);\\n  border-radius: 50%;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  font-size: 1.5rem;\\n  color: white;\\n  box-shadow: 0 4px 15px rgba(0, 212, 255, 0.3);\\n  animation: _ngcontent-%COMP%_pulse 2s ease-in-out infinite;\\n}\\n\\n@keyframes _ngcontent-%COMP%_pulse {\\n  0%, 100% { transform: scale(1); }\\n  50% { transform: scale(1.05); }\\n}\\n\\n.chat-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%] {\\n  color: #ffffff;\\n  margin: 0;\\n  font-size: 1.2rem;\\n  font-weight: 600;\\n}\\n\\n.status[_ngcontent-%COMP%] {\\n  color: #b8b8d1;\\n  margin: 0;\\n  font-size: 0.9rem;\\n  display: flex;\\n  align-items: center;\\n  gap: 0.5rem;\\n}\\n\\n.status-dot[_ngcontent-%COMP%] {\\n  width: 8px;\\n  height: 8px;\\n  background: #00ff88;\\n  border-radius: 50%;\\n  animation: _ngcontent-%COMP%_blink 2s ease-in-out infinite;\\n}\\n\\n@keyframes _ngcontent-%COMP%_blink {\\n  0%, 100% { opacity: 1; }\\n  50% { opacity: 0.5; }\\n}\\n\\n.btn-clear[_ngcontent-%COMP%] {\\n  background: rgba(255, 255, 255, 0.1);\\n  border: 1px solid rgba(255, 255, 255, 0.2);\\n  color: #b8b8d1;\\n  border-radius: 8px;\\n  padding: 0.5rem;\\n  transition: all 0.3s ease;\\n}\\n\\n.btn-clear[_ngcontent-%COMP%]:hover {\\n  background: rgba(239, 68, 68, 0.2);\\n  border-color: #ef4444;\\n  color: #ef4444;\\n  transform: scale(1.1);\\n}\\n\\n.btn-speak[_ngcontent-%COMP%] {\\n  background: rgba(255, 255, 255, 0.1);\\n  border: 1px solid rgba(255, 255, 255, 0.2);\\n  color: #b8b8d1;\\n  border-radius: 8px;\\n  padding: 0.5rem;\\n  transition: all 0.3s ease;\\n  margin-right: 0.5rem;\\n}\\n\\n.btn-speak[_ngcontent-%COMP%]:hover {\\n  background: rgba(0, 212, 255, 0.2);\\n  border-color: #00d4ff;\\n  color: #00d4ff;\\n  transform: scale(1.1);\\n}\\n\\n.btn-speak[_ngcontent-%COMP%]   i[_ngcontent-%COMP%] {\\n  font-size: 1.1rem;\\n}\\n\\n\\n\\n.chat-messages[_ngcontent-%COMP%] {\\n  flex: 1;\\n  overflow-y: auto;\\n  padding: 1rem;\\n  position: relative;\\n  z-index: 1;\\n}\\n\\n.messages-container[_ngcontent-%COMP%] {\\n  max-width: 800px;\\n  margin: 0 auto;\\n}\\n\\n.message-wrapper[_ngcontent-%COMP%] {\\n  margin-bottom: 1rem;\\n  animation: _ngcontent-%COMP%_fadeInUp 0.3s ease-out;\\n}\\n\\n@keyframes _ngcontent-%COMP%_fadeInUp {\\n  from {\\n    opacity: 0;\\n    transform: translateY(20px);\\n  }\\n  to {\\n    opacity: 1;\\n    transform: translateY(0);\\n  }\\n}\\n\\n.message[_ngcontent-%COMP%] {\\n  display: flex;\\n  align-items: flex-start;\\n  gap: 0.75rem;\\n  max-width: 80%;\\n}\\n\\n.user-message[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%] {\\n  flex-direction: row-reverse;\\n  margin-left: auto;\\n}\\n\\n.message-avatar[_ngcontent-%COMP%] {\\n  width: 40px;\\n  height: 40px;\\n  border-radius: 50%;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  font-size: 1.2rem;\\n  flex-shrink: 0;\\n}\\n\\n.message-avatar[_ngcontent-%COMP%]:not(.user-avatar) {\\n  background: linear-gradient(45deg, #00d4ff, #4ecdc4);\\n  color: white;\\n}\\n\\n.user-avatar[_ngcontent-%COMP%] {\\n  background: linear-gradient(45deg, #7877c6, #ff77c6);\\n  color: white;\\n}\\n\\n.message-content[_ngcontent-%COMP%] {\\n  flex: 1;\\n  min-width: 0;\\n}\\n\\n.message-text[_ngcontent-%COMP%] {\\n  background: rgba(255, 255, 255, 0.1);\\n  -webkit-backdrop-filter: blur(10px);\\n          backdrop-filter: blur(10px);\\n  border: 1px solid rgba(255, 255, 255, 0.2);\\n  border-radius: 18px;\\n  padding: 0.75rem 1rem;\\n  color: #ffffff;\\n  line-height: 1.5;\\n  word-wrap: break-word;\\n  position: relative;\\n}\\n\\n.ai-message[_ngcontent-%COMP%]   .message-text[_ngcontent-%COMP%] {\\n  background: rgba(0, 212, 255, 0.1);\\n  border-color: rgba(0, 212, 255, 0.3);\\n}\\n\\n.user-message[_ngcontent-%COMP%]   .message-text[_ngcontent-%COMP%] {\\n  background: rgba(120, 119, 198, 0.2);\\n  border-color: rgba(120, 119, 198, 0.4);\\n}\\n\\n.message-time[_ngcontent-%COMP%] {\\n  font-size: 0.75rem;\\n  color: #b8b8d1;\\n  margin-top: 0.25rem;\\n  text-align: right;\\n}\\n\\n.user-message[_ngcontent-%COMP%]   .message-time[_ngcontent-%COMP%] {\\n  text-align: left;\\n}\\n\\n\\n\\n.message-feedback[_ngcontent-%COMP%] {\\n  display: flex;\\n  gap: 0.5rem;\\n  margin-top: 0.5rem;\\n  opacity: 0.7;\\n  transition: opacity 0.3s ease;\\n}\\n\\n.message-feedback[_ngcontent-%COMP%]:hover {\\n  opacity: 1;\\n}\\n\\n.btn-feedback[_ngcontent-%COMP%] {\\n  background: rgba(255, 255, 255, 0.1);\\n  border: 1px solid rgba(255, 255, 255, 0.2);\\n  color: #b8b8d1;\\n  border-radius: 50%;\\n  width: 30px;\\n  height: 30px;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  transition: all 0.3s ease;\\n  cursor: pointer;\\n  font-size: 0.8rem;\\n}\\n\\n.btn-feedback[_ngcontent-%COMP%]:hover {\\n  transform: scale(1.1);\\n}\\n\\n.btn-thumbs-up[_ngcontent-%COMP%]:hover {\\n  background: rgba(34, 197, 94, 0.2);\\n  border-color: #22c55e;\\n  color: #22c55e;\\n}\\n\\n.btn-thumbs-down[_ngcontent-%COMP%]:hover {\\n  background: rgba(239, 68, 68, 0.2);\\n  border-color: #ef4444;\\n  color: #ef4444;\\n}\\n\\n\\n\\n.typing-indicator[_ngcontent-%COMP%] {\\n  display: flex;\\n  gap: 0.25rem;\\n  padding: 0.75rem 1rem;\\n}\\n\\n.typing-indicator[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] {\\n  width: 8px;\\n  height: 8px;\\n  background: #00d4ff;\\n  border-radius: 50%;\\n  animation: _ngcontent-%COMP%_typing 1.4s ease-in-out infinite both;\\n}\\n\\n.typing-indicator[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(1) { animation-delay: -0.32s; }\\n.typing-indicator[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(2) { animation-delay: -0.16s; }\\n\\n@keyframes _ngcontent-%COMP%_typing {\\n  0%, 80%, 100% {\\n    transform: scale(0.8);\\n    opacity: 0.5;\\n  }\\n  40% {\\n    transform: scale(1);\\n    opacity: 1;\\n  }\\n}\\n\\n\\n\\n.chat-input-container[_ngcontent-%COMP%] {\\n  background: rgba(15, 15, 35, 0.9);\\n  -webkit-backdrop-filter: blur(20px);\\n          backdrop-filter: blur(20px);\\n  border-top: 1px solid rgba(120, 119, 198, 0.3);\\n  padding: 1rem;\\n  position: relative;\\n  z-index: 1;\\n}\\n\\n.chat-input-wrapper[_ngcontent-%COMP%] {\\n  max-width: 800px;\\n  margin: 0 auto;\\n}\\n\\n.input-group[_ngcontent-%COMP%] {\\n  display: flex;\\n  gap: 0.5rem;\\n  align-items: flex-end;\\n}\\n\\n.chat-input[_ngcontent-%COMP%] {\\n  background: rgba(255, 255, 255, 0.1);\\n  border: 1px solid rgba(255, 255, 255, 0.2);\\n  border-radius: 20px;\\n  color: #ffffff;\\n  padding: 0.75rem 1rem;\\n  resize: none;\\n  font-family: inherit;\\n  transition: all 0.3s ease;\\n  flex: 1;\\n}\\n\\n.chat-input[_ngcontent-%COMP%]:focus {\\n  outline: none;\\n  border-color: #00d4ff;\\n  box-shadow: 0 0 0 2px rgba(0, 212, 255, 0.2);\\n  background: rgba(255, 255, 255, 0.15);\\n}\\n\\n.chat-input[_ngcontent-%COMP%]::placeholder {\\n  color: #b8b8d1;\\n}\\n\\n.btn-send[_ngcontent-%COMP%] {\\n  background: linear-gradient(45deg, #00d4ff, #4ecdc4);\\n  border: none;\\n  color: white;\\n  border-radius: 50%;\\n  width: 45px;\\n  height: 45px;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  transition: all 0.3s ease;\\n  flex-shrink: 0;\\n}\\n\\n.btn-send[_ngcontent-%COMP%]:hover:not(:disabled) {\\n  transform: scale(1.1);\\n  box-shadow: 0 5px 15px rgba(0, 212, 255, 0.3);\\n}\\n\\n.btn-send[_ngcontent-%COMP%]:disabled {\\n  opacity: 0.5;\\n  cursor: not-allowed;\\n  transform: none;\\n}\\n\\n.btn-mic[_ngcontent-%COMP%] {\\n  background: rgba(255, 255, 255, 0.1);\\n  border: 1px solid rgba(255, 255, 255, 0.2);\\n  color: #b8b8d1;\\n  border-radius: 50%;\\n  width: 45px;\\n  height: 45px;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  transition: all 0.3s ease;\\n  flex-shrink: 0;\\n}\\n\\n.btn-mic[_ngcontent-%COMP%]:hover {\\n  background: rgba(255, 119, 198, 0.2);\\n  border-color: #ff77c6;\\n  color: #ff77c6;\\n  transform: scale(1.1);\\n}\\n\\n.btn-mic.listening[_ngcontent-%COMP%] {\\n  background: linear-gradient(45deg, #ff77c6, #ff6b6b);\\n  border-color: #ff77c6;\\n  color: white;\\n  animation: _ngcontent-%COMP%_pulse 1s ease-in-out infinite;\\n}\\n\\n.btn-mic.listening[_ngcontent-%COMP%]:hover {\\n  background: linear-gradient(45deg, #ff6b6b, #ff77c6);\\n  color: white;\\n}\\n\\n.input-footer[_ngcontent-%COMP%] {\\n  margin-top: 0.5rem;\\n  text-align: center;\\n}\\n\\n.input-footer[_ngcontent-%COMP%]   small[_ngcontent-%COMP%] {\\n  color: #b8b8d1;\\n  font-size: 0.8rem;\\n}\\n\\n\\n\\n.chat-messages[_ngcontent-%COMP%]::-webkit-scrollbar {\\n  width: 6px;\\n}\\n\\n.chat-messages[_ngcontent-%COMP%]::-webkit-scrollbar-track {\\n  background: rgba(255, 255, 255, 0.1);\\n  border-radius: 3px;\\n}\\n\\n.chat-messages[_ngcontent-%COMP%]::-webkit-scrollbar-thumb {\\n  background: rgba(120, 119, 198, 0.5);\\n  border-radius: 3px;\\n}\\n\\n.chat-messages[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover {\\n  background: rgba(120, 119, 198, 0.7);\\n}\\n\\n\\n\\n@media (max-width: 768px) {\\n  .chat-container[_ngcontent-%COMP%] {\\n    height: calc(100vh - 70px);\\n  }\\n  \\n  .message[_ngcontent-%COMP%] {\\n    max-width: 90%;\\n  }\\n  \\n  .chat-header-content[_ngcontent-%COMP%] {\\n    gap: 1rem;\\n  }\\n  \\n  .ai-avatar[_ngcontent-%COMP%] {\\n    width: 40px;\\n    height: 40px;\\n    font-size: 1.2rem;\\n  }\\n  \\n  .chat-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%] {\\n    font-size: 1rem;\\n  }\\n  \\n  .message-avatar[_ngcontent-%COMP%] {\\n    width: 35px;\\n    height: 35px;\\n    font-size: 1rem;\\n  }\\n  \\n  .message-text[_ngcontent-%COMP%] {\\n    padding: 0.5rem 0.75rem;\\n    font-size: 0.9rem;\\n  }\\n  \\n  .btn-send[_ngcontent-%COMP%] {\\n    width: 40px;\\n    height: 40px;\\n  }\\n}\\n\\n@media (max-width: 480px) {\\n  .chat-messages[_ngcontent-%COMP%] {\\n    padding: 0.5rem;\\n  }\\n  \\n  .chat-input-container[_ngcontent-%COMP%] {\\n    padding: 0.5rem;\\n  }\\n  \\n  .message[_ngcontent-%COMP%] {\\n    max-width: 95%;\\n  }\\n  \\n  .message-text[_ngcontent-%COMP%] {\\n    padding: 0.5rem;\\n    font-size: 0.85rem;\\n  }\\n}\\n\\n\\n\\n.loading-message[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: column;\\n  align-items: flex-start;\\n  gap: 0.5rem;\\n}\\n\\n.loading-text[_ngcontent-%COMP%] {\\n  color: #b8b8d1;\\n  font-size: 0.9rem;\\n  font-style: italic;\\n  margin-top: 0.25rem;\\n}\\n\\n.btn-send.loading[_ngcontent-%COMP%] {\\n  background: linear-gradient(45deg, #00d4ff, #4ecdc4);\\n  animation: _ngcontent-%COMP%_pulse 1.5s ease-in-out infinite;\\n}\\n\\n.btn-send.loading[_ngcontent-%COMP%]   i[_ngcontent-%COMP%] {\\n  animation: _ngcontent-%COMP%_spin 1s linear infinite;\\n}\\n\\n@keyframes _ngcontent-%COMP%_spin {\\n  from { transform: rotate(0deg); }\\n  to { transform: rotate(360deg); }\\n}\\n\\n\\n\\n.voice-settings-panel[_ngcontent-%COMP%] {\\n  background: rgba(15, 15, 35, 0.95);\\n  -webkit-backdrop-filter: blur(20px);\\n          backdrop-filter: blur(20px);\\n  border: 1px solid rgba(120, 119, 198, 0.3);\\n  border-radius: 12px;\\n  margin: 1rem;\\n  position: relative;\\n  z-index: 10;\\n  animation: _ngcontent-%COMP%_slideDown 0.3s ease-out;\\n  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);\\n}\\n\\n@keyframes _ngcontent-%COMP%_slideDown {\\n  from {\\n    opacity: 0;\\n    transform: translateY(-20px);\\n  }\\n  to {\\n    opacity: 1;\\n    transform: translateY(0);\\n  }\\n}\\n\\n.voice-settings-header[_ngcontent-%COMP%] {\\n  display: flex;\\n  align-items: center;\\n  justify-content: space-between;\\n  padding: 1rem 1.5rem;\\n  border-bottom: 1px solid rgba(120, 119, 198, 0.2);\\n}\\n\\n.voice-settings-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%] {\\n  color: #ffffff;\\n  margin: 0;\\n  font-size: 1.1rem;\\n  font-weight: 600;\\n}\\n\\n.btn-close[_ngcontent-%COMP%] {\\n  background: none;\\n  border: none;\\n  color: #b8b8d1;\\n  font-size: 1.2rem;\\n  cursor: pointer;\\n  padding: 0.25rem;\\n  border-radius: 4px;\\n  transition: all 0.3s ease;\\n}\\n\\n.btn-close[_ngcontent-%COMP%]:hover {\\n  color: #ef4444;\\n  background: rgba(239, 68, 68, 0.1);\\n}\\n\\n.voice-settings-content[_ngcontent-%COMP%] {\\n  padding: 1.5rem;\\n}\\n\\n.setting-group[_ngcontent-%COMP%] {\\n  margin-bottom: 1.5rem;\\n}\\n\\n.setting-group[_ngcontent-%COMP%]:last-child {\\n  margin-bottom: 0;\\n}\\n\\n.setting-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%] {\\n  display: block;\\n  color: #ffffff;\\n  font-weight: 500;\\n  margin-bottom: 0.5rem;\\n  font-size: 0.9rem;\\n}\\n\\n.setting-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .setting-group[_ngcontent-%COMP%]   input[type=\\\"range\\\"][_ngcontent-%COMP%] {\\n  width: 100%;\\n  background: rgba(255, 255, 255, 0.1);\\n  border: 1px solid rgba(255, 255, 255, 0.2);\\n  border-radius: 8px;\\n  color: #ffffff;\\n  padding: 0.75rem;\\n  font-size: 0.9rem;\\n  transition: all 0.3s ease;\\n}\\n\\n.setting-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus, .setting-group[_ngcontent-%COMP%]   input[type=\\\"range\\\"][_ngcontent-%COMP%]:focus {\\n  outline: none;\\n  border-color: #00d4ff;\\n  box-shadow: 0 0 0 2px rgba(0, 212, 255, 0.2);\\n}\\n\\n.setting-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%] {\\n  background: #1a1a2e;\\n  color: #ffffff;\\n}\\n\\n.range-labels[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: space-between;\\n  margin-top: 0.5rem;\\n  font-size: 0.8rem;\\n  color: #b8b8d1;\\n}\\n\\n.btn-test-voice[_ngcontent-%COMP%] {\\n  width: 100%;\\n  background: linear-gradient(45deg, #00d4ff, #4ecdc4);\\n  border: none;\\n  color: white;\\n  padding: 0.75rem 1rem;\\n  border-radius: 8px;\\n  font-weight: 500;\\n  cursor: pointer;\\n  transition: all 0.3s ease;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  gap: 0.5rem;\\n}\\n\\n.btn-test-voice[_ngcontent-%COMP%]:hover {\\n  transform: translateY(-2px);\\n  box-shadow: 0 4px 15px rgba(0, 212, 255, 0.3);\\n}\\n\\n.btn-test-voice[_ngcontent-%COMP%]   i[_ngcontent-%COMP%] {\\n  font-size: 1.1rem;\\n}\\n\\n\\n\\n.btn-voice-toggle[_ngcontent-%COMP%] {\\n  background: rgba(255, 255, 255, 0.1);\\n  border: 1px solid rgba(255, 255, 255, 0.2);\\n  color: #b8b8d1;\\n  border-radius: 8px;\\n  padding: 0.5rem;\\n  transition: all 0.3s ease;\\n  margin-right: 0.5rem;\\n}\\n\\n.btn-voice-toggle[_ngcontent-%COMP%]:hover {\\n  background: rgba(0, 212, 255, 0.2);\\n  border-color: #00d4ff;\\n  color: #00d4ff;\\n  transform: scale(1.1);\\n}\\n\\n.btn-voice-toggle.active[_ngcontent-%COMP%] {\\n  background: rgba(0, 212, 255, 0.3);\\n  border-color: #00d4ff;\\n  color: #00d4ff;\\n}\\n\\n.btn-voice-toggle[_ngcontent-%COMP%]   i[_ngcontent-%COMP%] {\\n  font-size: 1.1rem;\\n}\\n\\n.btn-voice-settings[_ngcontent-%COMP%] {\\n  background: rgba(255, 255, 255, 0.1);\\n  border: 1px solid rgba(255, 255, 255, 0.2);\\n  color: #b8b8d1;\\n  border-radius: 8px;\\n  padding: 0.5rem;\\n  transition: all 0.3s ease;\\n  margin-right: 0.5rem;\\n}\\n\\n.btn-voice-settings[_ngcontent-%COMP%]:hover {\\n  background: rgba(120, 119, 198, 0.2);\\n  border-color: #7877c6;\\n  color: #7877c6;\\n  transform: scale(1.1);\\n}\\n\\n.btn-voice-settings[_ngcontent-%COMP%]   i[_ngcontent-%COMP%] {\\n  font-size: 1.1rem;\\n}\\n\\n\\n\\ninput[type=\\\"range\\\"][_ngcontent-%COMP%] {\\n  appearance: none;\\n  height: 6px;\\n  background: rgba(255, 255, 255, 0.1);\\n  border-radius: 3px;\\n  outline: none;\\n}\\n\\ninput[type=\\\"range\\\"][_ngcontent-%COMP%]::-webkit-slider-thumb {\\n  appearance: none;\\n  width: 18px;\\n  height: 18px;\\n  background: linear-gradient(45deg, #00d4ff, #4ecdc4);\\n  border-radius: 50%;\\n  cursor: pointer;\\n  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.3);\\n  -webkit-transition: all 0.3s ease;\\n  transition: all 0.3s ease;\\n}\\n\\ninput[type=\\\"range\\\"][_ngcontent-%COMP%]::-webkit-slider-thumb:hover {\\n  transform: scale(1.2);\\n  box-shadow: 0 4px 12px rgba(0, 212, 255, 0.4);\\n}\\n\\ninput[type=\\\"range\\\"][_ngcontent-%COMP%]::-moz-range-thumb {\\n  width: 18px;\\n  height: 18px;\\n  background: linear-gradient(45deg, #00d4ff, #4ecdc4);\\n  border-radius: 50%;\\n  cursor: pointer;\\n  border: none;\\n  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.3);\\n  -moz-transition: all 0.3s ease;\\n  transition: all 0.3s ease;\\n}\\n\\ninput[type=\\\"range\\\"][_ngcontent-%COMP%]::-moz-range-thumb:hover {\\n  transform: scale(1.2);\\n  box-shadow: 0 4px 12px rgba(0, 212, 255, 0.4);\\n}\\n\\n\\n\\n.gender-toggle-container[_ngcontent-%COMP%] {\\n  display: flex;\\n  gap: 0.5rem;\\n  margin-bottom: 0.5rem;\\n}\\n\\n.btn-gender-toggle[_ngcontent-%COMP%] {\\n  flex: 1;\\n  background: rgba(255, 255, 255, 0.1);\\n  border: 1px solid rgba(255, 255, 255, 0.2);\\n  color: #b8b8d1;\\n  border-radius: 8px;\\n  padding: 0.75rem;\\n  transition: all 0.3s ease;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  gap: 0.5rem;\\n  font-size: 0.9rem;\\n}\\n\\n.btn-gender-toggle[_ngcontent-%COMP%]:hover {\\n  background: rgba(0, 212, 255, 0.1);\\n  border-color: rgba(0, 212, 255, 0.3);\\n  color: #00d4ff;\\n}\\n\\n.btn-gender-toggle.active[_ngcontent-%COMP%] {\\n  background: rgba(0, 212, 255, 0.2);\\n  border-color: #00d4ff;\\n  color: #00d4ff;\\n  box-shadow: 0 0 10px rgba(0, 212, 255, 0.3);\\n}\\n\\n.btn-gender-toggle[_ngcontent-%COMP%]   i[_ngcontent-%COMP%] {\\n  font-size: 1.1rem;\\n}\\n\\n\\n\\n@media (max-width: 768px) {\\n  .voice-settings-panel[_ngcontent-%COMP%] {\\n    margin: 0.5rem;\\n  }\\n  \\n  .voice-settings-content[_ngcontent-%COMP%] {\\n    padding: 1rem;\\n  }\\n  \\n  .setting-group[_ngcontent-%COMP%] {\\n    margin-bottom: 1rem;\\n  }\\n  \\n  .voice-settings-header[_ngcontent-%COMP%] {\\n    padding: 0.75rem 1rem;\\n  }\\n  \\n  .voice-settings-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%] {\\n    font-size: 1rem;\\n  }\\n}\\n\\n@media (max-width: 480px) {\\n  .voice-settings-panel[_ngcontent-%COMP%] {\\n    margin: 0.25rem;\\n    border-radius: 8px;\\n  }\\n  \\n  .voice-settings-content[_ngcontent-%COMP%] {\\n    padding: 0.75rem;\\n  }\\n  \\n  .setting-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%] {\\n    font-size: 0.85rem;\\n  }\\n  \\n  .setting-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .setting-group[_ngcontent-%COMP%]   input[type=\\\"range\\\"][_ngcontent-%COMP%] {\\n    padding: 0.5rem;\\n    font-size: 0.85rem;\\n  }\\n} \\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9jaGF0L2NoYXQuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxtQkFBbUI7QUFDbkI7RUFDRSwwQkFBMEI7RUFDMUIsYUFBYTtFQUNiLHNCQUFzQjtFQUN0QixvR0FBb0c7RUFDcEcsa0JBQWtCO0VBQ2xCLGdCQUFnQjtBQUNsQjs7QUFFQTtFQUNFLFdBQVc7RUFDWCxrQkFBa0I7RUFDbEIsTUFBTTtFQUNOLE9BQU87RUFDUCxRQUFRO0VBQ1IsU0FBUztFQUNUOzs7cUZBR21GO0VBQ25GLG9CQUFvQjtFQUNwQixVQUFVO0FBQ1o7O0FBRUEsZ0JBQWdCO0FBQ2hCO0VBQ0UsaUNBQWlDO0VBQ2pDLG1DQUEyQjtVQUEzQiwyQkFBMkI7RUFDM0IsaURBQWlEO0VBQ2pELGFBQWE7RUFDYixrQkFBa0I7RUFDbEIsVUFBVTtBQUNaOztBQUVBO0VBQ0UsYUFBYTtFQUNiLG1CQUFtQjtFQUNuQiw4QkFBOEI7QUFDaEM7O0FBRUE7RUFDRSxXQUFXO0VBQ1gsWUFBWTtFQUNaLG9EQUFvRDtFQUNwRCxrQkFBa0I7RUFDbEIsYUFBYTtFQUNiLG1CQUFtQjtFQUNuQix1QkFBdUI7RUFDdkIsaUJBQWlCO0VBQ2pCLFlBQVk7RUFDWiw2Q0FBNkM7RUFDN0Msd0NBQXdDO0FBQzFDOztBQUVBO0VBQ0UsV0FBVyxtQkFBbUIsRUFBRTtFQUNoQyxNQUFNLHNCQUFzQixFQUFFO0FBQ2hDOztBQUVBO0VBQ0UsY0FBYztFQUNkLFNBQVM7RUFDVCxpQkFBaUI7RUFDakIsZ0JBQWdCO0FBQ2xCOztBQUVBO0VBQ0UsY0FBYztFQUNkLFNBQVM7RUFDVCxpQkFBaUI7RUFDakIsYUFBYTtFQUNiLG1CQUFtQjtFQUNuQixXQUFXO0FBQ2I7O0FBRUE7RUFDRSxVQUFVO0VBQ1YsV0FBVztFQUNYLG1CQUFtQjtFQUNuQixrQkFBa0I7RUFDbEIsd0NBQXdDO0FBQzFDOztBQUVBO0VBQ0UsV0FBVyxVQUFVLEVBQUU7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eUI7RUFBekIseUJBQXlCO0FBQzNCOztBQUVBO0VBQ0UscUJBQXFCO0VBQ3JCLDZDQUE2QztBQUMvQzs7QUFFQSwwQkFBMEI7QUFDMUI7RUFDRSxhQUFhO0VBQ2IsV0FBVztFQUNYLHFCQUFxQjtBQUN2Qjs7QUFFQTtFQUNFLE9BQU87RUFDUCxvQ0FBb0M7RUFDcEMsMENBQTBDO0VBQzFDLGNBQWM7RUFDZCxrQkFBa0I7RUFDbEIsZ0JBQWdCO0VBQ2hCLHlCQUF5QjtFQUN6QixhQUFhO0VBQ2IsbUJBQW1CO0VBQ25CLHVCQUF1QjtFQUN2QixXQUFXO0VBQ1gsaUJBQWlCO0FBQ25COztBQUVBO0VBQ0Usa0NBQWtDO0VBQ2xDLG9DQUFvQztFQUNwQyxjQUFjO0FBQ2hCOztBQUVBO0VBQ0Usa0NBQWtDO0VBQ2xDLHFCQUFxQjtFQUNyQixjQUFjO0VBQ2QsMkNBQTJDO0FBQzdDOztBQUVBO0VBQ0UsaUJBQWlCO0FBQ25COztBQUVBLHlDQUF5QztBQUN6QztFQUNFO0lBQ0UsY0FBYztFQUNoQjs7RUFFQTtJQUNFLGFBQWE7RUFDZjs7RUFFQTtJQUNFLG1CQUFtQjtFQUNyQjs7RUFFQTtJQUNFLHFCQUFxQjtFQUN2Qjs7RUFFQTtJQUNFLGVBQWU7RUFDakI7QUFDRjs7QUFFQTtFQUNFO0lBQ0UsZUFBZTtJQUNmLGtCQUFrQjtFQUNwQjs7RUFFQTtJQUNFLGdCQUFnQjtFQUNsQjs7RUFFQTtJQUNFLGtCQUFrQjtFQUNwQjs7RUFFQTs7SUFFRSxlQUFlO0lBQ2Ysa0JBQWtCO0VBQ3BCO0FBQ0YiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBDaGF0IENvbnRhaW5lciAqL1xuLmNoYXQtY29udGFpbmVyIHtcbiAgaGVpZ2h0OiBjYWxjKDEwMHZoIC0gODBweCk7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxMzVkZWcsICMwZjBmMjMgMCUsICMxYTFhMmUgMjUlLCAjMTYyMTNlIDUwJSwgIzBmMzQ2MCA3NSUsICM1MzM0ODMgMTAwJSk7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbn1cblxuLmNoYXQtY29udGFpbmVyOjpiZWZvcmUge1xuICBjb250ZW50OiAnJztcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB0b3A6IDA7XG4gIGxlZnQ6IDA7XG4gIHJpZ2h0OiAwO1xuICBib3R0b206IDA7XG4gIGJhY2tncm91bmQ6IFxuICAgIHJhZGlhbC1ncmFkaWVudChjaXJjbGUgYXQgMjAlIDgwJSwgcmdiYSgxMjAsIDExOSwgMTk4LCAwLjEpIDAlLCB0cmFuc3BhcmVudCA1MCUpLFxuICAgIHJhZGlhbC1ncmFkaWVudChjaXJjbGUgYXQgODAlIDIwJSwgcmdiYSgyNTUsIDExOSwgMTk4LCAwLjEpIDAlLCB0cmFuc3BhcmVudCA1MCUpLFxuICAgIHJhZGlhbC1ncmFkaWVudChjaXJjbGUgYXQgNDAlIDQwJSwgcmdiYSgxMjAsIDIxOSwgMjU1LCAwLjA1KSAwJSwgdHJhbnNwYXJlbnQgNTAlKTtcbiAgcG9pbnRlci1ldmVudHM6IG5vbmU7XG4gIHotaW5kZXg6IDA7XG59XG5cbi8qIENoYXQgSGVhZGVyICovXG4uY2hhdC1oZWFkZXIge1xuICBiYWNrZ3JvdW5kOiByZ2JhKDE1LCAxNSwgMzUsIDAuOSk7XG4gIGJhY2tkcm9wLWZpbHRlcjogYmx1cigyMHB4KTtcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHJnYmEoMTIwLCAxMTksIDE5OCwgMC4zKTtcbiAgcGFkZGluZzogMXJlbTtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICB6LWluZGV4OiAxO1xufVxuXG4uY2hhdC1oZWFkZXItY29udGVudCB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2Vlbjtcbn1cblxuLmFpLWF2YXRhciB7XG4gIHdpZHRoOiA1MHB4O1xuICBoZWlnaHQ6IDUwcHg7XG4gIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCg0NWRlZywgIzAwZDRmZiwgIzRlY2RjNCk7XG4gIGJvcmRlci1yYWRpdXM6IDUwJTtcbiAgZGlzcGxheTogZmxleDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gIGZvbnQtc2l6ZTogMS41cmVtO1xuICBjb2xvcjogd2hpdGU7XG4gIGJveC1zaGFkb3c6IDAgNHB4IDE1cHggcmdiYSgwLCAyMTIsIDI1NSwgMC4zKTtcbiAgYW5pbWF0aW9uOiBwdWxzZSAycyBlYXNlLWluLW91dCBpbmZpbml0ZTtcbn1cblxuQGtleWZyYW1lcyBwdWxzZSB7XG4gIDAlLCAxMDAlIHsgdHJhbnNmb3JtOiBzY2FsZSgxKTsgfVxuICA1MCUgeyB0cmFuc2Zvcm06IHNjYWxlKDEuMDUpOyB9XG59XG5cbi5jaGF0LWluZm8gaDMge1xuICBjb2xvcjogI2ZmZmZmZjtcbiAgbWFyZ2luOiAwO1xuICBmb250LXNpemU6IDEuMnJlbTtcbiAgZm9udC13ZWlnaHQ6IDYwMDtcbn1cblxuLnN0YXR1cyB7XG4gIGNvbG9yOiAjYjhiOGQxO1xuICBtYXJnaW46IDA7XG4gIGZvbnQtc2l6ZTogMC45cmVtO1xuICBkaXNwbGF5OiBmbGV4O1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBnYXA6IDAuNXJlbTtcbn1cblxuLnN0YXR1cy1kb3Qge1xuICB3aWR0aDogOHB4O1xuICBoZWlnaHQ6IDhweDtcbiAgYmFja2dyb3VuZDogIzAwZmY4ODtcbiAgYm9yZGVyLXJhZGl1czogNTAlO1xuICBhbmltYXRpb246IGJsaW5rIDJzIGVhc2UtaW4tb3V0IGluZmluaXRlO1xufVxuXG5Aa2V5ZnJhbWVzIGJsaW5rIHtcbiAgMCUsIDEwMCUgeyBvcGFjaXR5OiAxOyB9XG4gIDUwJSB7IG9wYWNpdHk6IDAuNTsgfVxufVxuXG4uYnRuLWNsZWFyIHtcbiAgYmFja2dyb3VuZDogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjEpO1xuICBib3JkZXI6IDFweCBzb2xpZCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMik7XG4gIGNvbG9yOiAjYjhiOGQxO1xuICBib3JkZXItcmFkaXVzOiA4cHg7XG4gIHBhZGRpbmc6IDAuNXJlbTtcbiAgdHJhbnNpdGlvbjogYWxsIDAuM3MgZWFzZTtcbn1cblxuLmJ0bi1jbGVhcjpob3ZlciB7XG4gIGJhY2tncm91bmQ6IHJnYmEoMjM5LCA2OCwgNjgsIDAuMik7XG4gIGJvcmRlci1jb2xvcjogI2VmNDQ0NDtcbiAgY29sb3I6ICNlZjQ0NDQ7XG4gIHRyYW5zZm9ybTogc2NhbGUoMS4xKTtcbn1cblxuLmJ0bi1zcGVhayB7XG4gIGJhY2tncm91bmQ6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4xKTtcbiAgYm9yZGVyOiAxcHggc29saWQgcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpO1xuICBjb2xvcjogI2I4YjhkMTtcbiAgYm9yZGVyLXJhZGl1czogOHB4O1xuICBwYWRkaW5nOiAwLjVyZW07XG4gIHRyYW5zaXRpb246IGFsbCAwLjNzIGVhc2U7XG4gIG1hcmdpbi1yaWdodDogMC41cmVtO1xufVxuXG4uYnRuLXNwZWFrOmhvdmVyIHtcbiAgYmFja2dyb3VuZDogcmdiYSgwLCAyMTIsIDI1NSwgMC4yKTtcbiAgYm9yZGVyLWNvbG9yOiAjMDBkNGZmO1xuICBjb2xvcjogIzAwZDRmZjtcbiAgdHJhbnNmb3JtOiBzY2FsZSgxLjEpO1xufVxuXG4uYnRuLXNwZWFrIGkge1xuICBmb250LXNpemU6IDEuMXJlbTtcbn1cblxuLyogQ2hhdCBNZXNzYWdlcyAqL1xuLmNoYXQtbWVzc2FnZXMge1xuICBmbGV4OiAxO1xuICBvdmVyZmxvdy15OiBhdXRvO1xuICBwYWRkaW5nOiAxcmVtO1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIHotaW5kZXg6IDE7XG59XG5cbi5tZXNzYWdlcy1jb250YWluZXIge1xuICBtYXgtd2lkdGg6IDgwMHB4O1xuICBtYXJnaW46IDAgYXV0bztcbn1cblxuLm1lc3NhZ2Utd3JhcHBlciB7XG4gIG1hcmdpbi1ib3R0b206IDFyZW07XG4gIGFuaW1hdGlvbjogZmFkZUluVXAgMC4zcyBlYXNlLW91dDtcbn1cblxuQGtleWZyYW1lcyBmYWRlSW5VcCB7XG4gIGZyb20ge1xuICAgIG9wYWNpdHk6IDA7XG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDIwcHgpO1xuICB9XG4gIHRvIHtcbiAgICBvcGFjaXR5OiAxO1xuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgwKTtcbiAgfVxufVxuXG4ubWVzc2FnZSB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGFsaWduLWl0ZW1zOiBmbGV4LXN0YXJ0O1xuICBnYXA6IDAuNzVyZW07XG4gIG1heC13aWR0aDogODAlO1xufVxuXG4udXNlci1tZXNzYWdlIC5tZXNzYWdlIHtcbiAgZmxleC1kaXJlY3Rpb246IHJvdy1yZXZlcnNlO1xuICBtYXJnaW4tbGVmdDogYXV0bztcbn1cblxuLm1lc3NhZ2UtYXZhdGFyIHtcbiAgd2lkdGg6IDQwcHg7XG4gIGhlaWdodDogNDBweDtcbiAgYm9yZGVyLXJhZGl1czogNTAlO1xuICBkaXNwbGF5OiBmbGV4O1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgZm9udC1zaXplOiAxLjJyZW07XG4gIGZsZXgtc2hyaW5rOiAwO1xufVxuXG4ubWVzc2FnZS1hdmF0YXI6bm90KC51c2VyLWF2YXRhcikge1xuICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoNDVkZWcsICMwMGQ0ZmYsICM0ZWNkYzQpO1xuICBjb2xvcjogd2hpdGU7XG59XG5cbi51c2VyLWF2YXRhciB7XG4gIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCg0NWRlZywgIzc4NzdjNiwgI2ZmNzdjNik7XG4gIGNvbG9yOiB3aGl0ZTtcbn1cblxuLm1lc3NhZ2UtY29udGVudCB7XG4gIGZsZXg6IDE7XG4gIG1pbi13aWR0aDogMDtcbn1cblxuLm1lc3NhZ2UtdGV4dCB7XG4gIGJhY2tncm91bmQ6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4xKTtcbiAgYmFja2Ryb3AtZmlsdGVyOiBibHVyKDEwcHgpO1xuICBib3JkZXI6IDFweCBzb2xpZCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMik7XG4gIGJvcmRlci1yYWRpdXM6IDE4cHg7XG4gIHBhZGRpbmc6IDAuNzVyZW0gMXJlbTtcbiAgY29sb3I6ICNmZmZmZmY7XG4gIGxpbmUtaGVpZ2h0OiAxLjU7XG4gIHdvcmQtd3JhcDogYnJlYWstd29yZDtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xufVxuXG4uYWktbWVzc2FnZSAubWVzc2FnZS10ZXh0IHtcbiAgYmFja2dyb3VuZDogcmdiYSgwLCAyMTIsIDI1NSwgMC4xKTtcbiAgYm9yZGVyLWNvbG9yOiByZ2JhKDAsIDIxMiwgMjU1LCAwLjMpO1xufVxuXG4udXNlci1tZXNzYWdlIC5tZXNzYWdlLXRleHQge1xuICBiYWNrZ3JvdW5kOiByZ2JhKDEyMCwgMTE5LCAxOTgsIDAuMik7XG4gIGJvcmRlci1jb2xvcjogcmdiYSgxMjAsIDExOSwgMTk4LCAwLjQpO1xufVxuXG4ubWVzc2FnZS10aW1lIHtcbiAgZm9udC1zaXplOiAwLjc1cmVtO1xuICBjb2xvcjogI2I4YjhkMTtcbiAgbWFyZ2luLXRvcDogMC4yNXJlbTtcbiAgdGV4dC1hbGlnbjogcmlnaHQ7XG59XG5cbi51c2VyLW1lc3NhZ2UgLm1lc3NhZ2UtdGltZSB7XG4gIHRleHQtYWxpZ246IGxlZnQ7XG59XG5cbi8qIE1lc3NhZ2UgRmVlZGJhY2sgKi9cbi5tZXNzYWdlLWZlZWRiYWNrIHtcbiAgZGlzcGxheTogZmxleDtcbiAgZ2FwOiAwLjVyZW07XG4gIG1hcmdpbi10b3A6IDAuNXJlbTtcbiAgb3BhY2l0eTogMC43O1xuICB0cmFuc2l0aW9uOiBvcGFjaXR5IDAuM3MgZWFzZTtcbn1cblxuLm1lc3NhZ2UtZmVlZGJhY2s6aG92ZXIge1xuICBvcGFjaXR5OiAxO1xufVxuXG4uYnRuLWZlZWRiYWNrIHtcbiAgYmFja2dyb3VuZDogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjEpO1xuICBib3JkZXI6IDFweCBzb2xpZCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMik7XG4gIGNvbG9yOiAjYjhiOGQxO1xuICBib3JkZXItcmFkaXVzOiA1MCU7XG4gIHdpZHRoOiAzMHB4O1xuICBoZWlnaHQ6IDMwcHg7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICB0cmFuc2l0aW9uOiBhbGwgMC4zcyBlYXNlO1xuICBjdXJzb3I6IHBvaW50ZXI7XG4gIGZvbnQtc2l6ZTogMC44cmVtO1xufVxuXG4uYnRuLWZlZWRiYWNrOmhvdmVyIHtcbiAgdHJhbnNmb3JtOiBzY2FsZSgxLjEpO1xufVxuXG4uYnRuLXRodW1icy11cDpob3ZlciB7XG4gIGJhY2tncm91bmQ6IHJnYmEoMzQsIDE5NywgOTQsIDAuMik7XG4gIGJvcmRlci1jb2xvcjogIzIyYzU1ZTtcbiAgY29sb3I6ICMyMmM1NWU7XG59XG5cbi5idG4tdGh1bWJzLWRvd246aG92ZXIge1xuICBiYWNrZ3JvdW5kOiByZ2JhKDIzOSwgNjgsIDY4LCAwLjIpO1xuICBib3JkZXItY29sb3I6ICNlZjQ0NDQ7XG4gIGNvbG9yOiAjZWY0NDQ0O1xufVxuXG4vKiBUeXBpbmcgSW5kaWNhdG9yICovXG4udHlwaW5nLWluZGljYXRvciB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGdhcDogMC4yNXJlbTtcbiAgcGFkZGluZzogMC43NXJlbSAxcmVtO1xufVxuXG4udHlwaW5nLWluZGljYXRvciBzcGFuIHtcbiAgd2lkdGg6IDhweDtcbiAgaGVpZ2h0OiA4cHg7XG4gIGJhY2tncm91bmQ6ICMwMGQ0ZmY7XG4gIGJvcmRlci1yYWRpdXM6IDUwJTtcbiAgYW5pbWF0aW9uOiB0eXBpbmcgMS40cyBlYXNlLWluLW91dCBpbmZpbml0ZSBib3RoO1xufVxuXG4udHlwaW5nLWluZGljYXRvciBzcGFuOm50aC1jaGlsZCgxKSB7IGFuaW1hdGlvbi1kZWxheTogLTAuMzJzOyB9XG4udHlwaW5nLWluZGljYXRvciBzcGFuOm50aC1jaGlsZCgyKSB7IGFuaW1hdGlvbi1kZWxheTogLTAuMTZzOyB9XG5cbkBrZXlmcmFtZXMgdHlwaW5nIHtcbiAgMCUsIDgwJSwgMTAwJSB7XG4gICAgdHJhbnNmb3JtOiBzY2FsZSgwLjgpO1xuICAgIG9wYWNpdHk6IDAuNTtcbiAgfVxuICA0MCUge1xuICAgIHRyYW5zZm9ybTogc2NhbGUoMSk7XG4gICAgb3BhY2l0eTogMTtcbiAgfVxufVxuXG4vKiBDaGF0IElucHV0ICovXG4uY2hhdC1pbnB1dC1jb250YWluZXIge1xuICBiYWNrZ3JvdW5kOiByZ2JhKDE1LCAxNSwgMzUsIDAuOSk7XG4gIGJhY2tkcm9wLWZpbHRlcjogYmx1cigyMHB4KTtcbiAgYm9yZGVyLXRvcDogMXB4IHNvbGlkIHJnYmEoMTIwLCAxMTksIDE5OCwgMC4zKTtcbiAgcGFkZGluZzogMXJlbTtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICB6LWluZGV4OiAxO1xufVxuXG4uY2hhdC1pbnB1dC13cmFwcGVyIHtcbiAgbWF4LXdpZHRoOiA4MDBweDtcbiAgbWFyZ2luOiAwIGF1dG87XG59XG5cbi5pbnB1dC1ncm91cCB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGdhcDogMC41cmVtO1xuICBhbGlnbi1pdGVtczogZmxleC1lbmQ7XG59XG5cbi5jaGF0LWlucHV0IHtcbiAgYmFja2dyb3VuZDogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjEpO1xuICBib3JkZXI6IDFweCBzb2xpZCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMik7XG4gIGJvcmRlci1yYWRpdXM6IDIwcHg7XG4gIGNvbG9yOiAjZmZmZmZmO1xuICBwYWRkaW5nOiAwLjc1cmVtIDFyZW07XG4gIHJlc2l6ZTogbm9uZTtcbiAgZm9udC1mYW1pbHk6IGluaGVyaXQ7XG4gIHRyYW5zaXRpb246IGFsbCAwLjNzIGVhc2U7XG4gIGZsZXg6IDE7XG59XG5cbi5jaGF0LWlucHV0OmZvY3VzIHtcbiAgb3V0bGluZTogbm9uZTtcbiAgYm9yZGVyLWNvbG9yOiAjMDBkNGZmO1xuICBib3gtc2hhZG93OiAwIDAgMCAycHggcmdiYSgwLCAyMTIsIDI1NSwgMC4yKTtcbiAgYmFja2dyb3VuZDogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjE1KTtcbn1cblxuLmNoYXQtaW5wdXQ6OnBsYWNlaG9sZGVyIHtcbiAgY29sb3I6ICNiOGI4ZDE7XG59XG5cbi5idG4tc2VuZCB7XG4gIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCg0NWRlZywgIzAwZDRmZiwgIzRlY2RjNCk7XG4gIGJvcmRlcjogbm9uZTtcbiAgY29sb3I6IHdoaXRlO1xuICBib3JkZXItcmFkaXVzOiA1MCU7XG4gIHdpZHRoOiA0NXB4O1xuICBoZWlnaHQ6IDQ1cHg7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICB0cmFuc2l0aW9uOiBhbGwgMC4zcyBlYXNlO1xuICBmbGV4LXNocmluazogMDtcbn1cblxuLmJ0bi1zZW5kOmhvdmVyOm5vdCg6ZGlzYWJsZWQpIHtcbiAgdHJhbnNmb3JtOiBzY2FsZSgxLjEpO1xuICBib3gtc2hhZG93OiAwIDVweCAxNXB4IHJnYmEoMCwgMjEyLCAyNTUsIDAuMyk7XG59XG5cbi5idG4tc2VuZDpkaXNhYmxlZCB7XG4gIG9wYWNpdHk6IDAuNTtcbiAgY3Vyc29yOiBub3QtYWxsb3dlZDtcbiAgdHJhbnNmb3JtOiBub25lO1xufVxuXG4uYnRuLW1pYyB7XG4gIGJhY2tncm91bmQ6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4xKTtcbiAgYm9yZGVyOiAxcHggc29saWQgcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpO1xuICBjb2xvcjogI2I4YjhkMTtcbiAgYm9yZGVyLXJhZGl1czogNTAlO1xuICB3aWR0aDogNDVweDtcbiAgaGVpZ2h0OiA0NXB4O1xuICBkaXNwbGF5OiBmbGV4O1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgdHJhbnNpdGlvbjogYWxsIDAuM3MgZWFzZTtcbiAgZmxleC1zaHJpbms6IDA7XG59XG5cbi5idG4tbWljOmhvdmVyIHtcbiAgYmFja2dyb3VuZDogcmdiYSgyNTUsIDExOSwgMTk4LCAwLjIpO1xuICBib3JkZXItY29sb3I6ICNmZjc3YzY7XG4gIGNvbG9yOiAjZmY3N2M2O1xuICB0cmFuc2Zvcm06IHNjYWxlKDEuMSk7XG59XG5cbi5idG4tbWljLmxpc3RlbmluZyB7XG4gIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCg0NWRlZywgI2ZmNzdjNiwgI2ZmNmI2Yik7XG4gIGJvcmRlci1jb2xvcjogI2ZmNzdjNjtcbiAgY29sb3I6IHdoaXRlO1xuICBhbmltYXRpb246IHB1bHNlIDFzIGVhc2UtaW4tb3V0IGluZmluaXRlO1xufVxuXG4uYnRuLW1pYy5saXN0ZW5pbmc6aG92ZXIge1xuICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoNDVkZWcsICNmZjZiNmIsICNmZjc3YzYpO1xuICBjb2xvcjogd2hpdGU7XG59XG5cbi5pbnB1dC1mb290ZXIge1xuICBtYXJnaW4tdG9wOiAwLjVyZW07XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbn1cblxuLmlucHV0LWZvb3RlciBzbWFsbCB7XG4gIGNvbG9yOiAjYjhiOGQxO1xuICBmb250LXNpemU6IDAuOHJlbTtcbn1cblxuLyogU2Nyb2xsYmFyIFN0eWxpbmcgKi9cbi5jaGF0LW1lc3NhZ2VzOjotd2Via2l0LXNjcm9sbGJhciB7XG4gIHdpZHRoOiA2cHg7XG59XG5cbi5jaGF0LW1lc3NhZ2VzOjotd2Via2l0LXNjcm9sbGJhci10cmFjayB7XG4gIGJhY2tncm91bmQ6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4xKTtcbiAgYm9yZGVyLXJhZGl1czogM3B4O1xufVxuXG4uY2hhdC1tZXNzYWdlczo6LXdlYmtpdC1zY3JvbGxiYXItdGh1bWIge1xuICBiYWNrZ3JvdW5kOiByZ2JhKDEyMCwgMTE5LCAxOTgsIDAuNSk7XG4gIGJvcmRlci1yYWRpdXM6IDNweDtcbn1cblxuLmNoYXQtbWVzc2FnZXM6Oi13ZWJraXQtc2Nyb2xsYmFyLXRodW1iOmhvdmVyIHtcbiAgYmFja2dyb3VuZDogcmdiYSgxMjAsIDExOSwgMTk4LCAwLjcpO1xufVxuXG4vKiBSZXNwb25zaXZlIERlc2lnbiAqL1xuQG1lZGlhIChtYXgtd2lkdGg6IDc2OHB4KSB7XG4gIC5jaGF0LWNvbnRhaW5lciB7XG4gICAgaGVpZ2h0OiBjYWxjKDEwMHZoIC0gNzBweCk7XG4gIH1cbiAgXG4gIC5tZXNzYWdlIHtcbiAgICBtYXgtd2lkdGg6IDkwJTtcbiAgfVxuICBcbiAgLmNoYXQtaGVhZGVyLWNvbnRlbnQge1xuICAgIGdhcDogMXJlbTtcbiAgfVxuICBcbiAgLmFpLWF2YXRhciB7XG4gICAgd2lkdGg6IDQwcHg7XG4gICAgaGVpZ2h0OiA0MHB4O1xuICAgIGZvbnQtc2l6ZTogMS4ycmVtO1xuICB9XG4gIFxuICAuY2hhdC1pbmZvIGgzIHtcbiAgICBmb250LXNpemU6IDFyZW07XG4gIH1cbiAgXG4gIC5tZXNzYWdlLWF2YXRhciB7XG4gICAgd2lkdGg6IDM1cHg7XG4gICAgaGVpZ2h0OiAzNXB4O1xuICAgIGZvbnQtc2l6ZTogMXJlbTtcbiAgfVxuICBcbiAgLm1lc3NhZ2UtdGV4dCB7XG4gICAgcGFkZGluZzogMC41cmVtIDAuNzVyZW07XG4gICAgZm9udC1zaXplOiAwLjlyZW07XG4gIH1cbiAgXG4gIC5idG4tc2VuZCB7XG4gICAgd2lkdGg6IDQwcHg7XG4gICAgaGVpZ2h0OiA0MHB4O1xuICB9XG59XG5cbkBtZWRpYSAobWF4LXdpZHRoOiA0ODBweCkge1xuICAuY2hhdC1tZXNzYWdlcyB7XG4gICAgcGFkZGluZzogMC41cmVtO1xuICB9XG4gIFxuICAuY2hhdC1pbnB1dC1jb250YWluZXIge1xuICAgIHBhZGRpbmc6IDAuNXJlbTtcbiAgfVxuICBcbiAgLm1lc3NhZ2Uge1xuICAgIG1heC13aWR0aDogOTUlO1xuICB9XG4gIFxuICAubWVzc2FnZS10ZXh0IHtcbiAgICBwYWRkaW5nOiAwLjVyZW07XG4gICAgZm9udC1zaXplOiAwLjg1cmVtO1xuICB9XG59XG5cbi8qIExvYWRpbmcgTWVzc2FnZSBTdHlsZXMgKi9cbi5sb2FkaW5nLW1lc3NhZ2Uge1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICBhbGlnbi1pdGVtczogZmxleC1zdGFydDtcbiAgZ2FwOiAwLjVyZW07XG59XG5cbi5sb2FkaW5nLXRleHQge1xuICBjb2xvcjogI2I4YjhkMTtcbiAgZm9udC1zaXplOiAwLjlyZW07XG4gIGZvbnQtc3R5bGU6IGl0YWxpYztcbiAgbWFyZ2luLXRvcDogMC4yNXJlbTtcbn1cblxuLmJ0bi1zZW5kLmxvYWRpbmcge1xuICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoNDVkZWcsICMwMGQ0ZmYsICM0ZWNkYzQpO1xuICBhbmltYXRpb246IHB1bHNlIDEuNXMgZWFzZS1pbi1vdXQgaW5maW5pdGU7XG59XG5cbi5idG4tc2VuZC5sb2FkaW5nIGkge1xuICBhbmltYXRpb246IHNwaW4gMXMgbGluZWFyIGluZmluaXRlO1xufVxuXG5Aa2V5ZnJhbWVzIHNwaW4ge1xuICBmcm9tIHsgdHJhbnNmb3JtOiByb3RhdGUoMGRlZyk7IH1cbiAgdG8geyB0cmFuc2Zvcm06IHJvdGF0ZSgzNjBkZWcpOyB9XG59XG5cbi8qIFZvaWNlIFNldHRpbmdzIFBhbmVsICovXG4udm9pY2Utc2V0dGluZ3MtcGFuZWwge1xuICBiYWNrZ3JvdW5kOiByZ2JhKDE1LCAxNSwgMzUsIDAuOTUpO1xuICBiYWNrZHJvcC1maWx0ZXI6IGJsdXIoMjBweCk7XG4gIGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoMTIwLCAxMTksIDE5OCwgMC4zKTtcbiAgYm9yZGVyLXJhZGl1czogMTJweDtcbiAgbWFyZ2luOiAxcmVtO1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIHotaW5kZXg6IDEwO1xuICBhbmltYXRpb246IHNsaWRlRG93biAwLjNzIGVhc2Utb3V0O1xuICBib3gtc2hhZG93OiAwIDhweCAzMnB4IHJnYmEoMCwgMCwgMCwgMC4zKTtcbn1cblxuQGtleWZyYW1lcyBzbGlkZURvd24ge1xuICBmcm9tIHtcbiAgICBvcGFjaXR5OiAwO1xuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtMjBweCk7XG4gIH1cbiAgdG8ge1xuICAgIG9wYWNpdHk6IDE7XG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDApO1xuICB9XG59XG5cbi52b2ljZS1zZXR0aW5ncy1oZWFkZXIge1xuICBkaXNwbGF5OiBmbGV4O1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG4gIHBhZGRpbmc6IDFyZW0gMS41cmVtO1xuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgcmdiYSgxMjAsIDExOSwgMTk4LCAwLjIpO1xufVxuXG4udm9pY2Utc2V0dGluZ3MtaGVhZGVyIGg0IHtcbiAgY29sb3I6ICNmZmZmZmY7XG4gIG1hcmdpbjogMDtcbiAgZm9udC1zaXplOiAxLjFyZW07XG4gIGZvbnQtd2VpZ2h0OiA2MDA7XG59XG5cbi5idG4tY2xvc2Uge1xuICBiYWNrZ3JvdW5kOiBub25lO1xuICBib3JkZXI6IG5vbmU7XG4gIGNvbG9yOiAjYjhiOGQxO1xuICBmb250LXNpemU6IDEuMnJlbTtcbiAgY3Vyc29yOiBwb2ludGVyO1xuICBwYWRkaW5nOiAwLjI1cmVtO1xuICBib3JkZXItcmFkaXVzOiA0cHg7XG4gIHRyYW5zaXRpb246IGFsbCAwLjNzIGVhc2U7XG59XG5cbi5idG4tY2xvc2U6aG92ZXIge1xuICBjb2xvcjogI2VmNDQ0NDtcbiAgYmFja2dyb3VuZDogcmdiYSgyMzksIDY4LCA2OCwgMC4xKTtcbn1cblxuLnZvaWNlLXNldHRpbmdzLWNvbnRlbnQge1xuICBwYWRkaW5nOiAxLjVyZW07XG59XG5cbi5zZXR0aW5nLWdyb3VwIHtcbiAgbWFyZ2luLWJvdHRvbTogMS41cmVtO1xufVxuXG4uc2V0dGluZy1ncm91cDpsYXN0LWNoaWxkIHtcbiAgbWFyZ2luLWJvdHRvbTogMDtcbn1cblxuLnNldHRpbmctZ3JvdXAgbGFiZWwge1xuICBkaXNwbGF5OiBibG9jaztcbiAgY29sb3I6ICNmZmZmZmY7XG4gIGZvbnQtd2VpZ2h0OiA1MDA7XG4gIG1hcmdpbi1ib3R0b206IDAuNXJlbTtcbiAgZm9udC1zaXplOiAwLjlyZW07XG59XG5cbi5zZXR0aW5nLWdyb3VwIHNlbGVjdCxcbi5zZXR0aW5nLWdyb3VwIGlucHV0W3R5cGU9XCJyYW5nZVwiXSB7XG4gIHdpZHRoOiAxMDAlO1xuICBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMSk7XG4gIGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4yKTtcbiAgYm9yZGVyLXJhZGl1czogOHB4O1xuICBjb2xvcjogI2ZmZmZmZjtcbiAgcGFkZGluZzogMC43NXJlbTtcbiAgZm9udC1zaXplOiAwLjlyZW07XG4gIHRyYW5zaXRpb246IGFsbCAwLjNzIGVhc2U7XG59XG5cbi5zZXR0aW5nLWdyb3VwIHNlbGVjdDpmb2N1cyxcbi5zZXR0aW5nLWdyb3VwIGlucHV0W3R5cGU9XCJyYW5nZVwiXTpmb2N1cyB7XG4gIG91dGxpbmU6IG5vbmU7XG4gIGJvcmRlci1jb2xvcjogIzAwZDRmZjtcbiAgYm94LXNoYWRvdzogMCAwIDAgMnB4IHJnYmEoMCwgMjEyLCAyNTUsIDAuMik7XG59XG5cbi5zZXR0aW5nLWdyb3VwIHNlbGVjdCBvcHRpb24ge1xuICBiYWNrZ3JvdW5kOiAjMWExYTJlO1xuICBjb2xvcjogI2ZmZmZmZjtcbn1cblxuLnJhbmdlLWxhYmVscyB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcbiAgbWFyZ2luLXRvcDogMC41cmVtO1xuICBmb250LXNpemU6IDAuOHJlbTtcbiAgY29sb3I6ICNiOGI4ZDE7XG59XG5cbi5idG4tdGVzdC12b2ljZSB7XG4gIHdpZHRoOiAxMDAlO1xuICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoNDVkZWcsICMwMGQ0ZmYsICM0ZWNkYzQpO1xuICBib3JkZXI6IG5vbmU7XG4gIGNvbG9yOiB3aGl0ZTtcbiAgcGFkZGluZzogMC43NXJlbSAxcmVtO1xuICBib3JkZXItcmFkaXVzOiA4cHg7XG4gIGZvbnQtd2VpZ2h0OiA1MDA7XG4gIGN1cnNvcjogcG9pbnRlcjtcbiAgdHJhbnNpdGlvbjogYWxsIDAuM3MgZWFzZTtcbiAgZGlzcGxheTogZmxleDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gIGdhcDogMC41cmVtO1xufVxuXG4uYnRuLXRlc3Qtdm9pY2U6aG92ZXIge1xuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTJweCk7XG4gIGJveC1zaGFkb3c6IDAgNHB4IDE1cHggcmdiYSgwLCAyMTIsIDI1NSwgMC4zKTtcbn1cblxuLmJ0bi10ZXN0LXZvaWNlIGkge1xuICBmb250LXNpemU6IDEuMXJlbTtcbn1cblxuLyogVm9pY2UgU2V0dGluZ3MgQnV0dG9uICovXG4uYnRuLXZvaWNlLXRvZ2dsZSB7XG4gIGJhY2tncm91bmQ6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4xKTtcbiAgYm9yZGVyOiAxcHggc29saWQgcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpO1xuICBjb2xvcjogI2I4YjhkMTtcbiAgYm9yZGVyLXJhZGl1czogOHB4O1xuICBwYWRkaW5nOiAwLjVyZW07XG4gIHRyYW5zaXRpb246IGFsbCAwLjNzIGVhc2U7XG4gIG1hcmdpbi1yaWdodDogMC41cmVtO1xufVxuXG4uYnRuLXZvaWNlLXRvZ2dsZTpob3ZlciB7XG4gIGJhY2tncm91bmQ6IHJnYmEoMCwgMjEyLCAyNTUsIDAuMik7XG4gIGJvcmRlci1jb2xvcjogIzAwZDRmZjtcbiAgY29sb3I6ICMwMGQ0ZmY7XG4gIHRyYW5zZm9ybTogc2NhbGUoMS4xKTtcbn1cblxuLmJ0bi12b2ljZS10b2dnbGUuYWN0aXZlIHtcbiAgYmFja2dyb3VuZDogcmdiYSgwLCAyMTIsIDI1NSwgMC4zKTtcbiAgYm9yZGVyLWNvbG9yOiAjMDBkNGZmO1xuICBjb2xvcjogIzAwZDRmZjtcbn1cblxuLmJ0bi12b2ljZS10b2dnbGUgaSB7XG4gIGZvbnQtc2l6ZTogMS4xcmVtO1xufVxuXG4uYnRuLXZvaWNlLXNldHRpbmdzIHtcbiAgYmFja2dyb3VuZDogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjEpO1xuICBib3JkZXI6IDFweCBzb2xpZCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMik7XG4gIGNvbG9yOiAjYjhiOGQxO1xuICBib3JkZXItcmFkaXVzOiA4cHg7XG4gIHBhZGRpbmc6IDAuNXJlbTtcbiAgdHJhbnNpdGlvbjogYWxsIDAuM3MgZWFzZTtcbiAgbWFyZ2luLXJpZ2h0OiAwLjVyZW07XG59XG5cbi5idG4tdm9pY2Utc2V0dGluZ3M6aG92ZXIge1xuICBiYWNrZ3JvdW5kOiByZ2JhKDEyMCwgMTE5LCAxOTgsIDAuMik7XG4gIGJvcmRlci1jb2xvcjogIzc4NzdjNjtcbiAgY29sb3I6ICM3ODc3YzY7XG4gIHRyYW5zZm9ybTogc2NhbGUoMS4xKTtcbn1cblxuLmJ0bi12b2ljZS1zZXR0aW5ncyBpIHtcbiAgZm9udC1zaXplOiAxLjFyZW07XG59XG5cbi8qIFJhbmdlIElucHV0IFN0eWxpbmcgKi9cbmlucHV0W3R5cGU9XCJyYW5nZVwiXSB7XG4gIC13ZWJraXQtYXBwZWFyYW5jZTogbm9uZTtcbiAgYXBwZWFyYW5jZTogbm9uZTtcbiAgaGVpZ2h0OiA2cHg7XG4gIGJhY2tncm91bmQ6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4xKTtcbiAgYm9yZGVyLXJhZGl1czogM3B4O1xuICBvdXRsaW5lOiBub25lO1xufVxuXG5pbnB1dFt0eXBlPVwicmFuZ2VcIl06Oi13ZWJraXQtc2xpZGVyLXRodW1iIHtcbiAgLXdlYmtpdC1hcHBlYXJhbmNlOiBub25lO1xuICBhcHBlYXJhbmNlOiBub25lO1xuICB3aWR0aDogMThweDtcbiAgaGVpZ2h0OiAxOHB4O1xuICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoNDVkZWcsICMwMGQ0ZmYsICM0ZWNkYzQpO1xuICBib3JkZXItcmFkaXVzOiA1MCU7XG4gIGN1cnNvcjogcG9pbnRlcjtcbiAgYm94LXNoYWRvdzogMCAycHggNnB4IHJnYmEoMCwgMCwgMCwgMC4zKTtcbiAgdHJhbnNpdGlvbjogYWxsIDAuM3MgZWFzZTtcbn1cblxuaW5wdXRbdHlwZT1cInJhbmdlXCJdOjotd2Via2l0LXNsaWRlci10aHVtYjpob3ZlciB7XG4gIHRyYW5zZm9ybTogc2NhbGUoMS4yKTtcbiAgYm94LXNoYWRvdzogMCA0cHggMTJweCByZ2JhKDAsIDIxMiwgMjU1LCAwLjQpO1xufVxuXG5pbnB1dFt0eXBlPVwicmFuZ2VcIl06Oi1tb3otcmFuZ2UtdGh1bWIge1xuICB3aWR0aDogMThweDtcbiAgaGVpZ2h0OiAxOHB4O1xuICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoNDVkZWcsICMwMGQ0ZmYsICM0ZWNkYzQpO1xuICBib3JkZXItcmFkaXVzOiA1MCU7XG4gIGN1cnNvcjogcG9pbnRlcjtcbiAgYm9yZGVyOiBub25lO1xuICBib3gtc2hhZG93OiAwIDJweCA2cHggcmdiYSgwLCAwLCAwLCAwLjMpO1xuICB0cmFuc2l0aW9uOiBhbGwgMC4zcyBlYXNlO1xufVxuXG5pbnB1dFt0eXBlPVwicmFuZ2VcIl06Oi1tb3otcmFuZ2UtdGh1bWI6aG92ZXIge1xuICB0cmFuc2Zvcm06IHNjYWxlKDEuMik7XG4gIGJveC1zaGFkb3c6IDAgNHB4IDEycHggcmdiYSgwLCAyMTIsIDI1NSwgMC40KTtcbn1cblxuLyogR2VuZGVyIFRvZ2dsZSBCdXR0b25zICovXG4uZ2VuZGVyLXRvZ2dsZS1jb250YWluZXIge1xuICBkaXNwbGF5OiBmbGV4O1xuICBnYXA6IDAuNXJlbTtcbiAgbWFyZ2luLWJvdHRvbTogMC41cmVtO1xufVxuXG4uYnRuLWdlbmRlci10b2dnbGUge1xuICBmbGV4OiAxO1xuICBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMSk7XG4gIGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4yKTtcbiAgY29sb3I6ICNiOGI4ZDE7XG4gIGJvcmRlci1yYWRpdXM6IDhweDtcbiAgcGFkZGluZzogMC43NXJlbTtcbiAgdHJhbnNpdGlvbjogYWxsIDAuM3MgZWFzZTtcbiAgZGlzcGxheTogZmxleDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gIGdhcDogMC41cmVtO1xuICBmb250LXNpemU6IDAuOXJlbTtcbn1cblxuLmJ0bi1nZW5kZXItdG9nZ2xlOmhvdmVyIHtcbiAgYmFja2dyb3VuZDogcmdiYSgwLCAyMTIsIDI1NSwgMC4xKTtcbiAgYm9yZGVyLWNvbG9yOiByZ2JhKDAsIDIxMiwgMjU1LCAwLjMpO1xuICBjb2xvcjogIzAwZDRmZjtcbn1cblxuLmJ0bi1nZW5kZXItdG9nZ2xlLmFjdGl2ZSB7XG4gIGJhY2tncm91bmQ6IHJnYmEoMCwgMjEyLCAyNTUsIDAuMik7XG4gIGJvcmRlci1jb2xvcjogIzAwZDRmZjtcbiAgY29sb3I6ICMwMGQ0ZmY7XG4gIGJveC1zaGFkb3c6IDAgMCAxMHB4IHJnYmEoMCwgMjEyLCAyNTUsIDAuMyk7XG59XG5cbi5idG4tZ2VuZGVyLXRvZ2dsZSBpIHtcbiAgZm9udC1zaXplOiAxLjFyZW07XG59XG5cbi8qIFJlc3BvbnNpdmUgRGVzaWduIGZvciBWb2ljZSBTZXR0aW5ncyAqL1xuQG1lZGlhIChtYXgtd2lkdGg6IDc2OHB4KSB7XG4gIC52b2ljZS1zZXR0aW5ncy1wYW5lbCB7XG4gICAgbWFyZ2luOiAwLjVyZW07XG4gIH1cbiAgXG4gIC52b2ljZS1zZXR0aW5ncy1jb250ZW50IHtcbiAgICBwYWRkaW5nOiAxcmVtO1xuICB9XG4gIFxuICAuc2V0dGluZy1ncm91cCB7XG4gICAgbWFyZ2luLWJvdHRvbTogMXJlbTtcbiAgfVxuICBcbiAgLnZvaWNlLXNldHRpbmdzLWhlYWRlciB7XG4gICAgcGFkZGluZzogMC43NXJlbSAxcmVtO1xuICB9XG4gIFxuICAudm9pY2Utc2V0dGluZ3MtaGVhZGVyIGg0IHtcbiAgICBmb250LXNpemU6IDFyZW07XG4gIH1cbn1cblxuQG1lZGlhIChtYXgtd2lkdGg6IDQ4MHB4KSB7XG4gIC52b2ljZS1zZXR0aW5ncy1wYW5lbCB7XG4gICAgbWFyZ2luOiAwLjI1cmVtO1xuICAgIGJvcmRlci1yYWRpdXM6IDhweDtcbiAgfVxuICBcbiAgLnZvaWNlLXNldHRpbmdzLWNvbnRlbnQge1xuICAgIHBhZGRpbmc6IDAuNzVyZW07XG4gIH1cbiAgXG4gIC5zZXR0aW5nLWdyb3VwIGxhYmVsIHtcbiAgICBmb250LXNpemU6IDAuODVyZW07XG4gIH1cbiAgXG4gIC5zZXR0aW5nLWdyb3VwIHNlbGVjdCxcbiAgLnNldHRpbmctZ3JvdXAgaW5wdXRbdHlwZT1cInJhbmdlXCJdIHtcbiAgICBwYWRkaW5nOiAwLjVyZW07XG4gICAgZm9udC1zaXplOiAwLjg1cmVtO1xuICB9XG59ICJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n    });\n  }\n}","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵproperty","voice_r6","name","ɵɵadvance","ɵɵtextInterpolate1","ctx_r5","getVoiceDisplayName","ɵɵlistener","ChatComponent_div_20_Template_button_click_4_listener","ɵɵrestoreView","_r8","ctx_r7","ɵɵnextContext","ɵɵresetView","toggleVoiceSettings","ɵɵelement","ChatComponent_div_20_Template_select_change_10_listener","$event","ctx_r9","selectVoice","ɵɵtemplate","ChatComponent_div_20_option_13_Template","ChatComponent_div_20_Template_select_change_17_listener","ctx_r10","updateVoiceSettings","ChatComponent_div_20_Template_button_click_32_listener","ctx_r11","setVoiceGender","ChatComponent_div_20_Template_button_click_35_listener","ctx_r12","ChatComponent_div_20_Template_input_input_43_listener","ctx_r13","ChatComponent_div_20_Template_input_input_52_listener","ctx_r14","ChatComponent_div_20_Template_input_input_61_listener","ctx_r15","ChatComponent_div_20_Template_button_click_68_listener","ctx_r16","speakMessage","ctx_r0","voiceSettings","voiceName","getFilteredVoices","language","ɵɵclassProp","gender","rate","pitch","Math","round","volume","ChatComponent_div_24_div_9_Template_button_click_1_listener","_r23","message_r17","$implicit","ctx_r21","submitFeedback","aiResponseId","conversationId","ChatComponent_div_24_div_9_Template_button_click_3_listener","ctx_r24","ChatComponent_div_24_div_2_Template","ChatComponent_div_24_div_9_Template","ChatComponent_div_24_div_10_Template","sender","ɵɵtextInterpolate","text","ɵɵpipeBind2","timestamp","ChatComponent_div_25_div_1_Template","message_r26","isLoading","ChatComponent","constructor","authService","aiChatService","messages","newMessage","userData","isTyping","isListening","isSpeaking","recognition","synthesis","currentConversationId","availableVoices","showVoiceSettings","ngOnInit","getUserData","addWelcomeMessage","initializeSpeech","onvoiceschanged","getVoices","console","log","length","loadVoiceSettings","debugAllVoices","ngAfterViewChecked","scrollToBottom","push","id","firstName","username","Date","sendMessage","trim","userMessage","userInput","loadingMessage","request","question","userId","toString","undefined","sendQuestion","subscribe","next","response","filter","msg","aiMessage","error","errorMessage","onKeyPress","event","key","shiftKey","preventDefault","chatContainer","nativeElement","scrollTop","scrollHeight","err","clearChat","focusInput","setTimeout","messageInput","focus","questionId","rating","feedback","feedbackRequest","showFeedbackMessage","message","feedbackMessage","window","speechSynthesis","webkitSpeechRecognition","continuous","interimResults","lang","maxAlternatives","grammars","serviceURI","onstart","onresult","finalTranscript","interimTranscript","i","resultIndex","results","transcript","isFinal","convertHindiToEnglish","englishText","onerror","onend","onaudiostart","onaudioend","onsoundstart","onsoundend","onspeechstart","onspeechend","startListening","start","stopListening","stop","cancel","processedText","processTextForSpeech","utterance","SpeechSynthesisUtterance","voices","preferredVoices","getPreferredVoicesByGender","selectedVoice","selectBestVoice","voice","isMaleVoice","isFemaleVoice","warn","forEach","addSpeechEvents","speak","replace","containsHindi","optimizeHindiEnglishSpeech","userVoice","find","v","matchesGenderPreference","hindiVoice","startsWith","indianEnglishVoice","anyHindiVoice","toLowerCase","maleIndicators","femaleIndicators","hasMaleIndicator","some","indicator","includes","hasFemaleIndicator","isMaleHindiVoice","detectLanguage","hindiWords","hasHindi","word","hindiPattern","test","onpause","onresume","stopSpeaking","toggleSpeech","lastAiMessage","pop","getAvailableVoices","isMale","isFemale","hindiVoices","hindiText","hindiToEnglish","hindi","english","Object","entries","regex","RegExp","toggleVoiceGender","saveVoiceSettings","debugVoiceSelection","forceMaleVoice","maleVoice","forceFemaleVoice","femaleVoice","matchesGender","indianEnglishVoices","setting","target","value","parseFloat","saved","localStorage","getItem","JSON","parse","setItem","stringify","split","country","isNeural","displayName","toUpperCase","ɵɵdirectiveInject","i1","AuthService","i2","AiChatService","selectors","viewQuery","ChatComponent_Query","rf","ctx","ChatComponent_Template_button_click_12_listener","ChatComponent_Template_button_click_14_listener","ChatComponent_Template_button_click_16_listener","ChatComponent_Template_button_click_18_listener","ChatComponent_div_20_Template","ChatComponent_div_24_Template","ChatComponent_div_25_Template","ChatComponent_Template_textarea_ngModelChange_29_listener","ChatComponent_Template_textarea_keypress_29_listener","ChatComponent_Template_button_click_31_listener","ChatComponent_Template_button_click_33_listener"],"sources":["/Users/ent-00387/Documents/end-to-end/Ui/src/app/components/chat/chat.component.ts","/Users/ent-00387/Documents/end-to-end/Ui/src/app/components/chat/chat.component.html"],"sourcesContent":["import { Component, OnInit, ViewChild, ElementRef, AfterViewChecked } from '@angular/core';\nimport { AuthService } from '../../services/auth.service';\nimport { AiChatService, AiChatRequest, AiChatResponse } from '../../services/ai-chat.service';\n\ninterface ChatMessage {\n  id: number;\n  text: string;\n  sender: 'user' | 'ai';\n  timestamp: Date;\n  isLoading?: boolean;\n  aiResponseId?: string;\n  conversationId?: string;\n}\n\n@Component({\n  selector: 'app-chat',\n  templateUrl: './chat.component.html',\n  styleUrls: ['./chat.component.css']\n})\nexport class ChatComponent implements OnInit, AfterViewChecked {\n  @ViewChild('chatContainer') private chatContainer!: ElementRef;\n  @ViewChild('messageInput') private messageInput!: ElementRef;\n\n  messages: ChatMessage[] = [];\n  newMessage: string = '';\n  userData: any = null;\n  isTyping: boolean = false;\n  isListening: boolean = false;\n  isSpeaking: boolean = false;\n  recognition: any = null;\n  synthesis: SpeechSynthesis | null = null;\n  currentConversationId: string | null = null;\n  isLoading: boolean = false;\n\n  // Voice customization settings\n  voiceSettings: {\n    rate: number;\n    pitch: number;\n    volume: number;\n    voiceName: string;\n    language: string;\n    gender: string;\n  } = {\n    rate: 0.9,           // Speech rate (0.1 to 10)\n    pitch: 1.05,         // Pitch (0 to 2)\n    volume: 0.95,        // Volume (0 to 1)\n    voiceName: '',       // Selected voice name\n    language: 'hi-IN',   // Force Hindi (India) language\n    gender: 'male'       // Gender preference (male/female)\n  };\n\n  availableVoices: SpeechSynthesisVoice[] = [];\n  showVoiceSettings: boolean = false;\n  \n  // Make Math available in template\n  Math = Math;\n\n  constructor(\n    private authService: AuthService,\n    private aiChatService: AiChatService\n  ) {}\n\n  ngOnInit(): void {\n    this.userData = this.authService.getUserData();\n    this.addWelcomeMessage();\n    this.initializeSpeech();\n    \n    // Load voices when they become available\n    if (this.synthesis) {\n      this.synthesis.onvoiceschanged = () => {\n        this.availableVoices = this.synthesis?.getVoices() || [];\n        console.log('Voices loaded:', this.availableVoices.length);\n        this.loadVoiceSettings();\n        \n        // Debug: Show all available voices\n        this.debugAllVoices();\n      };\n    }\n  }\n\n  ngAfterViewChecked(): void {\n    this.scrollToBottom();\n  }\n\n  private addWelcomeMessage(): void {\n    this.messages.push({\n      id: 1,\n      text: `Namaste ${this.userData?.firstName || this.userData?.username}! Main aapka AI assistant hoon. Aapko kya help chahiye aaj?`,\n      sender: 'ai',\n      timestamp: new Date()\n    });\n  }\n\n  sendMessage(): void {\n    if (this.newMessage.trim() && !this.isTyping && !this.isLoading) {\n      const userMessage: ChatMessage = {\n        id: this.messages.length + 1,\n        text: this.newMessage.trim(),\n        sender: 'user',\n        timestamp: new Date()\n      };\n\n      this.messages.push(userMessage);\n      const userInput = this.newMessage;\n      this.newMessage = '';\n      this.isTyping = true;\n      this.isLoading = true;\n\n      // Add loading message\n      const loadingMessage: ChatMessage = {\n        id: this.messages.length + 1,\n        text: 'Thinking...',\n        sender: 'ai',\n        timestamp: new Date(),\n        isLoading: true\n      };\n      this.messages.push(loadingMessage);\n\n      // Send to AI backend\n      const request: AiChatRequest = {\n        question: userInput,\n        userId: this.userData?.id?.toString() || this.userData?.username,\n        conversationId: this.currentConversationId || undefined\n      };\n\n      this.aiChatService.sendQuestion(request).subscribe({\n        next: (response: AiChatResponse) => {\n          // Remove loading message\n          this.messages = this.messages.filter(msg => !msg.isLoading);\n          \n          // Store conversation ID for future messages\n          this.currentConversationId = response.conversationId?.toString() || null;\n          \n          // Add AI response\n          const aiMessage: ChatMessage = {\n            id: this.messages.length + 1,\n            text: response.response,\n            sender: 'ai',\n            timestamp: new Date(),\n            aiResponseId: response.conversationId?.toString() || '',\n            conversationId: response.conversationId?.toString() || ''\n          };\n\n          this.messages.push(aiMessage);\n          this.isTyping = false;\n          this.isLoading = false;\n        },\n        error: (error) => {\n          console.error('Error getting AI response:', error);\n          \n          // Remove loading message\n          this.messages = this.messages.filter(msg => !msg.isLoading);\n          \n          // Add error message\n          const errorMessage: ChatMessage = {\n            id: this.messages.length + 1,\n            text: 'Sorry, main abhi aapki help nahi kar pa raha hoon. Please try again later.',\n            sender: 'ai',\n            timestamp: new Date()\n          };\n\n          this.messages.push(errorMessage);\n          this.isTyping = false;\n          this.isLoading = false;\n        }\n      });\n    }\n  }\n\n  onKeyPress(event: KeyboardEvent): void {\n    if (event.key === 'Enter' && !event.shiftKey) {\n      event.preventDefault();\n      this.sendMessage();\n    }\n  }\n\n  private scrollToBottom(): void {\n    try {\n      this.chatContainer.nativeElement.scrollTop = this.chatContainer.nativeElement.scrollHeight;\n    } catch (err) {}\n  }\n\n  clearChat(): void {\n    this.messages = [];\n    this.currentConversationId = null;\n    this.addWelcomeMessage();\n  }\n\n  focusInput(): void {\n    setTimeout(() => {\n      this.messageInput.nativeElement.focus();\n    }, 100);\n  }\n\n  submitFeedback(questionId: string, conversationId: string, rating: number, feedback: string): void {\n    const feedbackRequest = {\n      conversationId: conversationId,\n      questionId: questionId,\n      rating: rating,\n      feedback: feedback\n    };\n\n    this.aiChatService.submitFeedback(feedbackRequest).subscribe({\n      next: (response) => {\n        console.log('Feedback submitted successfully:', response);\n        // Show a brief success message\n        this.showFeedbackMessage('Thank you for your feedback!');\n      },\n      error: (error) => {\n        console.error('Error submitting feedback:', error);\n        this.showFeedbackMessage('Failed to submit feedback. Please try again.');\n      }\n    });\n  }\n\n  private showFeedbackMessage(message: string): void {\n    // Create a temporary feedback message\n    const feedbackMessage: ChatMessage = {\n      id: this.messages.length + 1,\n      text: message,\n      sender: 'ai',\n      timestamp: new Date()\n    };\n\n    this.messages.push(feedbackMessage);\n\n    // Remove the feedback message after 3 seconds\n    setTimeout(() => {\n      this.messages = this.messages.filter(msg => msg.id !== feedbackMessage.id);\n    }, 3000);\n  }\n\n  private initializeSpeech(): void {\n    // Initialize speech synthesis\n    if ('speechSynthesis' in window) {\n      this.synthesis = window.speechSynthesis;\n    }\n\n    // Initialize speech recognition with enhanced settings\n    if ('webkitSpeechRecognition' in window) {\n      this.recognition = new (window as any).webkitSpeechRecognition();\n      \n      // Enhanced recognition settings for better accuracy\n      this.recognition.continuous = false;\n      this.recognition.interimResults = true; // Get interim results for better feedback\n      this.recognition.lang = 'hi-IN'; // Hindi (India)\n      this.recognition.maxAlternatives = 5; // Get more alternatives for better accuracy\n      \n      // Additional settings for better performance\n      this.recognition.grammars = null; // Allow any speech\n      this.recognition.serviceURI = ''; // Use default service\n\n      this.recognition.onstart = () => {\n        this.isListening = true;\n        console.log('Speech recognition started');\n      };\n\n      this.recognition.onresult = (event: any) => {\n        let finalTranscript = '';\n        let interimTranscript = '';\n\n        // Process all results\n        for (let i = event.resultIndex; i < event.results.length; i++) {\n          const transcript = event.results[i][0].transcript;\n          if (event.results[i].isFinal) {\n            finalTranscript += transcript;\n          } else {\n            interimTranscript += transcript;\n          }\n        }\n\n        // Show interim results for better user feedback\n        if (interimTranscript) {\n          this.newMessage = this.convertHindiToEnglish(interimTranscript);\n        }\n\n        // When we have final results, process them\n        if (finalTranscript) {\n          const englishText = this.convertHindiToEnglish(finalTranscript);\n          this.newMessage = englishText;\n          console.log('Final transcript:', englishText);\n          \n          // Auto-send the message after a short delay\n          setTimeout(() => {\n            if (this.newMessage.trim()) {\n              this.sendMessage();\n            }\n          }, 500);\n        }\n      };\n\n      this.recognition.onerror = (event: any) => {\n        console.error('Speech recognition error:', event.error);\n        this.isListening = false;\n        \n        // Show user-friendly error messages\n        let errorMessage = 'Voice input error. Please try again.';\n        switch (event.error) {\n          case 'no-speech':\n            errorMessage = 'No speech detected. Please speak clearly.';\n            break;\n          case 'audio-capture':\n            errorMessage = 'Microphone not found. Please check your microphone.';\n            break;\n          case 'not-allowed':\n            errorMessage = 'Microphone access denied. Please allow microphone access.';\n            break;\n          case 'network':\n            errorMessage = 'Network error. Please check your internet connection.';\n            break;\n        }\n        \n        // You can show this error message to the user\n        console.log(errorMessage);\n      };\n\n      this.recognition.onend = () => {\n        this.isListening = false;\n        console.log('Speech recognition ended');\n      };\n\n      this.recognition.onaudiostart = () => {\n        console.log('Audio capturing started');\n      };\n\n      this.recognition.onaudioend = () => {\n        console.log('Audio capturing ended');\n      };\n\n      this.recognition.onsoundstart = () => {\n        console.log('Sound detected');\n      };\n\n      this.recognition.onsoundend = () => {\n        console.log('Sound ended');\n      };\n\n      this.recognition.onspeechstart = () => {\n        console.log('Speech started');\n      };\n\n      this.recognition.onspeechend = () => {\n        console.log('Speech ended');\n      };\n    } else {\n      console.error('Speech recognition not supported in this browser');\n    }\n  }\n\n  startListening(): void {\n    if (this.recognition && !this.isListening) {\n      try {\n        this.recognition.start();\n      } catch (error) {\n        console.error('Error starting speech recognition:', error);\n        this.isListening = false;\n      }\n    }\n  }\n\n  stopListening(): void {\n    if (this.recognition && this.isListening) {\n      try {\n        this.recognition.stop();\n      } catch (error) {\n        console.error('Error stopping speech recognition:', error);\n      }\n    }\n  }\n\n  speakMessage(text: string): void {\n    if (this.synthesis) {\n      try {\n        // Stop any current speech\n        this.synthesis.cancel();\n\n        // Process text for more natural speech\n        const processedText = this.processTextForSpeech(text);\n        \n        const utterance = new SpeechSynthesisUtterance(processedText);\n        \n        // Enhanced voice selection based on gender preference\n        const voices = this.synthesis.getVoices();\n        const preferredVoices = this.getPreferredVoicesByGender();\n\n        // Find the best available voice with enhanced selection\n        let selectedVoice = this.selectBestVoice(voices, preferredVoices);\n        \n        if (selectedVoice) {\n          utterance.voice = selectedVoice;\n          console.log('Selected voice:', selectedVoice.name, 'Language:', selectedVoice.lang, 'Gender preference:', this.voiceSettings.gender);\n          console.log('Is male voice:', this.isMaleVoice(selectedVoice));\n          console.log('Is female voice:', this.isFemaleVoice(selectedVoice));\n        } else {\n          console.warn('No suitable voice found for gender preference:', this.voiceSettings.gender);\n          // Log available voices for debugging\n          console.log('Available voices:');\n          voices.forEach(voice => {\n            console.log(`- ${voice.name} (${voice.lang}) - Male: ${this.isMaleVoice(voice)}, Female: ${this.isFemaleVoice(voice)}`);\n          });\n        }\n\n        // Apply user voice settings for personalized AI voice\n        utterance.rate = this.voiceSettings.rate;\n        utterance.pitch = this.voiceSettings.pitch;\n        utterance.volume = this.voiceSettings.volume;\n        // Always use Hindi language for male voice consistency\n        utterance.lang = 'hi-IN';\n\n        // Add natural pauses and emphasis\n        this.addSpeechEvents(utterance);\n\n        this.synthesis.speak(utterance);\n      } catch (error) {\n        console.error('Error with speech synthesis:', error);\n        this.isSpeaking = false;\n      }\n    }\n  }\n\n  private processTextForSpeech(text: string): string {\n    // Add natural pauses and emphasis for more genuine speech\n    let processedText = text;\n    \n    // Add pauses after sentences\n    processedText = processedText.replace(/\\./g, '... ');\n    processedText = processedText.replace(/\\!/g, '!... ');\n    processedText = processedText.replace(/\\?/g, '?... ');\n    \n    // Add emphasis to important words\n    processedText = processedText.replace(/\\b(Ayush Dwivedi|Alka Dwivedi|Anshi Shukla|Vijay Kumar Dwivedi|Shreya Dwivedi)\\b/gi, \n      '<emphasis level=\"strong\">$1</emphasis>');\n    \n    // Add natural pauses for better flow\n    processedText = processedText.replace(/,/g, ',... ');\n    processedText = processedText.replace(/;/g, ';... ');\n    \n    // Optimize for Hindi-English mixed speech\n    if (this.containsHindi(text)) {\n      processedText = this.optimizeHindiEnglishSpeech(processedText);\n    }\n    \n    return processedText;\n  }\n\n  private selectBestVoice(voices: SpeechSynthesisVoice[], preferredVoices: string[]): SpeechSynthesisVoice | null {\n    // First, try to use user's selected voice (if it matches gender preference)\n    if (this.voiceSettings.voiceName) {\n      const userVoice = voices.find(v => v.name === this.voiceSettings.voiceName);\n      if (userVoice && this.matchesGenderPreference(userVoice)) {\n        return userVoice;\n      }\n    }\n    \n    // Then try to find exact matches from preferred voices\n    for (const voiceName of preferredVoices) {\n      const voice = voices.find(v => v.name === voiceName);\n      if (voice && this.matchesGenderPreference(voice)) {\n        return voice;\n      }\n    }\n    \n    // If no exact match, find best available Hindi voice matching gender preference\n    const hindiVoice = voices.find(v => \n      v.lang.startsWith('hi-IN') && this.matchesGenderPreference(v)\n    );\n    \n    if (hindiVoice) {\n      return hindiVoice;\n    }\n    \n    // If no Hindi voice available, try Indian English voice matching gender preference\n    const indianEnglishVoice = voices.find(v => \n      v.lang.startsWith('en-IN') && this.matchesGenderPreference(v)\n    );\n    \n    if (indianEnglishVoice) {\n      return indianEnglishVoice;\n    }\n    \n    // Last resort: any Hindi voice (but log a warning)\n    const anyHindiVoice = voices.find(v => v.lang.startsWith('hi-IN'));\n    if (anyHindiVoice) {\n      console.warn(`No ${this.voiceSettings.gender} Hindi voice found, using available Hindi voice:`, anyHindiVoice.name);\n      return anyHindiVoice;\n    }\n    \n    // Final fallback: any available voice (but log a warning)\n    if (voices.length > 0) {\n      console.warn('No Hindi voice found, using fallback voice:', voices[0].name);\n      return voices[0];\n    }\n    \n    return null;\n  }\n\n  private isMaleVoice(voice: SpeechSynthesisVoice): boolean {\n    const voiceName = voice.name.toLowerCase();\n    \n    // Explicit male voice indicators\n    const maleIndicators = [\n      'male', 'madhur', 'prabhat', 'guy', 'ryan', 'davis', 'alfie', \n      'david', 'mark', 'james', 'john', 'mike', 'tom', 'alex'\n    ];\n    \n    // Explicit female voice indicators\n    const femaleIndicators = [\n      'female', 'neerja', 'jenny', 'sonia', 'sarah', 'lisa', 'emma', \n      'anna', 'maria', 'sophie', 'lisa', 'kate', 'jane', 'mary'\n    ];\n    \n    // Check for explicit male indicators\n    const hasMaleIndicator = maleIndicators.some(indicator => voiceName.includes(indicator));\n    \n    // Check for explicit female indicators\n    const hasFemaleIndicator = femaleIndicators.some(indicator => voiceName.includes(indicator));\n    \n    // If we have explicit indicators, use them\n    if (hasMaleIndicator && !hasFemaleIndicator) {\n      return true;\n    }\n    if (hasFemaleIndicator && !hasMaleIndicator) {\n      return false;\n    }\n    \n    // For voices without clear indicators, use pitch analysis\n    // Male voices typically have lower pitch values\n    if (voice.name.includes('Neural')) {\n      // For neural voices, rely on name patterns\n      return !hasFemaleIndicator;\n    }\n    \n    // Default to checking if it's NOT explicitly female\n    return !hasFemaleIndicator;\n  }\n\n  private isFemaleVoice(voice: SpeechSynthesisVoice): boolean {\n    const voiceName = voice.name.toLowerCase();\n    \n    // Explicit female voice indicators\n    const femaleIndicators = [\n      'female', 'neerja', 'jenny', 'sonia', 'sarah', 'lisa', 'emma', \n      'anna', 'maria', 'sophie', 'kate', 'jane', 'mary', 'alice'\n    ];\n    \n    // Explicit male voice indicators\n    const maleIndicators = [\n      'male', 'madhur', 'prabhat', 'guy', 'ryan', 'davis', 'alfie', \n      'david', 'mark', 'james', 'john', 'mike', 'tom', 'alex'\n    ];\n    \n    // Check for explicit female indicators\n    const hasFemaleIndicator = femaleIndicators.some(indicator => voiceName.includes(indicator));\n    \n    // Check for explicit male indicators\n    const hasMaleIndicator = maleIndicators.some(indicator => voiceName.includes(indicator));\n    \n    // If we have explicit indicators, use them\n    if (hasFemaleIndicator && !hasMaleIndicator) {\n      return true;\n    }\n    if (hasMaleIndicator && !hasFemaleIndicator) {\n      return false;\n    }\n    \n    // For voices without clear indicators, use name patterns\n    if (voice.name.includes('Neural')) {\n      // For neural voices, rely on name patterns\n      return hasFemaleIndicator;\n    }\n    \n    // Default to checking if it's explicitly female\n    return hasFemaleIndicator;\n  }\n\n  private isMaleHindiVoice(voice: SpeechSynthesisVoice): boolean {\n    return voice.lang.startsWith('hi-IN') && this.isMaleVoice(voice);\n  }\n\n  private matchesGenderPreference(voice: SpeechSynthesisVoice): boolean {\n    if (this.voiceSettings.gender === 'male') {\n      return this.isMaleVoice(voice);\n    } else {\n      return this.isFemaleVoice(voice);\n    }\n  }\n\n  private getPreferredVoicesByGender(): string[] {\n    if (this.voiceSettings.gender === 'male') {\n      return [\n        // Hindi Male voices - in order of preference\n        'hi-IN-MadhurNeural',      // Hindi Male Neural - Most natural male voice\n        'hi-IN-Madhur',            // Hindi Male (non-neural fallback)\n        'hi-IN',                   // Hindi (will find male if available)\n        \n        // Only if no Hindi male voice is available, fallback to Indian English male\n        'en-IN-PrabhatNeural',     // English (India) Male Neural\n        'en-IN-Prabhat',           // English (India) Male (non-neural fallback)\n        'en-IN'                    // English (India) (will find male if available)\n      ];\n    } else {\n      return [\n        // Hindi Female voices - in order of preference\n        'hi-IN-NeerjaNeural',      // Hindi Female Neural - Most natural female voice\n        'hi-IN-Neerja',            // Hindi Female (non-neural fallback)\n        'hi-IN',                   // Hindi (will find female if available)\n        \n        // Only if no Hindi female voice is available, fallback to Indian English female\n        'en-IN-NeerjaNeural',      // English (India) Female Neural\n        'en-IN-Neerja',            // English (India) Female (non-neural fallback)\n        'en-IN'                    // English (India) (will find female if available)\n      ];\n    }\n  }\n\n  private detectLanguage(text: string): string {\n    // Always prefer Hindi for male voice\n    const hindiWords = ['है', 'में', 'आप', 'मुझे', 'क्या', 'कैसे', 'कहाँ', 'कब', 'कौन', 'मदद', 'समस्या', 'समाधान'];\n    const hasHindi = hindiWords.some(word => text.includes(word));\n    \n    // Always return Hindi if Hindi words are detected, otherwise use Hindi as default\n    if (hasHindi) {\n      return 'hi-IN';\n    } else {\n      // Even for English text, prefer Hindi voice for consistency\n      return 'hi-IN';\n    }\n  }\n\n  private containsHindi(text: string): boolean {\n    const hindiPattern = /[\\u0900-\\u097F]/;\n    return hindiPattern.test(text);\n  }\n\n  private optimizeHindiEnglishSpeech(text: string): string {\n    // Add natural pauses between Hindi and English words\n    text = text.replace(/([a-zA-Z]+)([हैमेंआपमुझेक्याकैसेकहाँकबकौन])/g, '$1... $2');\n    text = text.replace(/([हैमेंआपमुझेक्याकैसेकहाँकबकौन])([a-zA-Z]+)/g, '$1... $2');\n    \n    return text;\n  }\n\n  private addSpeechEvents(utterance: SpeechSynthesisUtterance): void {\n    utterance.onstart = () => {\n      this.isSpeaking = true;\n      console.log('AI started speaking');\n    };\n\n    utterance.onend = () => {\n      this.isSpeaking = false;\n      console.log('AI finished speaking');\n    };\n\n    utterance.onpause = () => {\n      console.log('AI speech paused');\n    };\n\n    utterance.onresume = () => {\n      console.log('AI speech resumed');\n    };\n\n    utterance.onerror = (event) => {\n      console.error('Speech synthesis error:', event);\n      this.isSpeaking = false;\n    };\n  }\n\n  stopSpeaking(): void {\n    if (this.synthesis) {\n      try {\n        this.synthesis.cancel();\n        this.isSpeaking = false;\n      } catch (error) {\n        console.error('Error stopping speech synthesis:', error);\n      }\n    }\n  }\n\n  toggleSpeech(): void {\n    if (this.isSpeaking) {\n      this.stopSpeaking();\n    } else {\n      // Speak the last AI message\n      const lastAiMessage = this.messages\n        .filter(msg => msg.sender === 'ai')\n        .pop();\n      if (lastAiMessage) {\n        this.speakMessage(lastAiMessage.text);\n      }\n    }\n  }\n\n  getAvailableVoices(): void {\n    if (this.synthesis) {\n      const voices = this.synthesis.getVoices();\n      console.log('Available voices:');\n      voices.forEach(voice => {\n        const isMale = this.isMaleVoice(voice);\n        const isFemale = this.isFemaleVoice(voice);\n        console.log(`- ${voice.name} (${voice.lang}) - Male: ${isMale}, Female: ${isFemale}`);\n      });\n      \n      // Show Hindi voices specifically\n      const hindiVoices = voices.filter(v => v.lang.startsWith('hi-IN'));\n      console.log('Hindi voices:');\n      hindiVoices.forEach(voice => {\n        const isMale = this.isMaleVoice(voice);\n        const isFemale = this.isFemaleVoice(voice);\n        console.log(`- ${voice.name} (${voice.lang}) - Male: ${isMale}, Female: ${isFemale}`);\n      });\n    }\n  }\n\n  private convertHindiToEnglish(hindiText: string): string {\n    // Common Hindi to English word mappings\n    const hindiToEnglish: { [key: string]: string } = {\n      // Basic words\n      'नमस्ते': 'namaste',\n      'है': 'hai',\n      'में': 'main',\n      'आप': 'aap',\n      'मुझे': 'mujhe',\n      'क्या': 'kya',\n      'कैसे': 'kaise',\n      'कहाँ': 'kahan',\n      'कब': 'kab',\n      'कौन': 'kaun',\n      \n      // Common phrases\n      'मदद': 'help',\n      'समस्या': 'problem',\n      'समाधान': 'solution',\n      'जानकारी': 'information',\n      'प्रश्न': 'question',\n      'उत्तर': 'answer',\n      'सहायता': 'assistance',\n      'सेवा': 'service',\n      \n      // Actions\n      'करना': 'karna',\n      'जाना': 'jana',\n      'आना': 'aana',\n      'देखना': 'dekhna',\n      'सुनना': 'sunna',\n      'बोलना': 'bolna',\n      'समझना': 'samajhna',\n      'सोचना': 'sochna',\n      \n      // Time related\n      'आज': 'aaj',\n      'कल': 'kal',\n      'परसों': 'parson',\n      'सुबह': 'subah',\n      'शाम': 'sham',\n      'रात': 'raat',\n      'दिन': 'din',\n      \n      // Numbers\n      'एक': 'ek',\n      'दो': 'do',\n      'तीन': 'teen',\n      'चार': 'char',\n      'पांच': 'paanch',\n      'छह': 'cheh',\n      'सात': 'saat',\n      'आठ': 'aath',\n      'नौ': 'nau',\n      'दस': 'das',\n      \n      // Common expressions\n      'धन्यवाद': 'thank you',\n      'कृपया': 'please',\n      'माफ़ करें': 'sorry',\n      'ठीक है': 'okay',\n      'हाँ': 'yes',\n      'नहीं': 'no',\n      'बहुत': 'bahut',\n      'अच्छा': 'accha',\n      'बुरा': 'bura',\n      \n      // Technology terms\n      'कंप्यूटर': 'computer',\n      'मोबाइल': 'mobile',\n      'इंटरनेट': 'internet',\n      'वेबसाइट': 'website',\n      'एप्लिकेशन': 'application',\n      'सिस्टम': 'system',\n      'डेटा': 'data',\n      'फ़ाइल': 'file',\n      \n      // Business terms\n      'कंपनी': 'company',\n      'कार्यालय': 'office',\n      'कार्य': 'work',\n      'पैसा': 'money',\n      'लेनदेन': 'transaction',\n      'खाता': 'account',\n      'बैंक': 'bank',\n      \n      // Family and relationships\n      'परिवार': 'family',\n      'दोस्त': 'friend',\n      'भाई': 'bhai',\n      'बहन': 'behen',\n      'माता': 'mata',\n      'पिता': 'pita',\n      'बेटा': 'beta',\n      'बेटी': 'beti'\n    };\n\n    let englishText = hindiText;\n    \n    // Convert Hindi words to English\n    for (const [hindi, english] of Object.entries(hindiToEnglish)) {\n      const regex = new RegExp(hindi, 'gi');\n      englishText = englishText.replace(regex, english);\n    }\n    \n    // Handle common Hindi patterns\n    englishText = englishText\n      .replace(/हूँ/g, 'hoon')\n      .replace(/हैं/g, 'hain')\n      .replace(/था/g, 'tha')\n      .replace(/थी/g, 'thi')\n      .replace(/थे/g, 'the')\n      .replace(/रहा/g, 'raha')\n      .replace(/रही/g, 'rahi')\n      .replace(/रहे/g, 'rahe')\n      .replace(/कर/g, 'kar')\n      .replace(/की/g, 'ki')\n      .replace(/का/g, 'ka')\n      .replace(/के/g, 'ke')\n      .replace(/को/g, 'ko')\n      .replace(/से/g, 'se')\n      .replace(/में/g, 'main')\n      .replace(/पर/g, 'par')\n      .replace(/तक/g, 'tak')\n      .replace(/साथ/g, 'saath')\n      .replace(/बिना/g, 'bina')\n      .replace(/लिए/g, 'liye')\n      .replace(/द्वारा/g, 'dwara')\n      .replace(/के लिए/g, 'ke liye')\n      .replace(/की तरह/g, 'ki tarah')\n      .replace(/के बारे में/g, 'ke bare mein')\n      .replace(/के साथ/g, 'ke saath')\n      .replace(/के बिना/g, 'ke bina')\n      .replace(/के बाद/g, 'ke baad')\n      .replace(/के पहले/g, 'ke pehle')\n      .replace(/के अंदर/g, 'ke andar')\n      .replace(/के बाहर/g, 'ke bahar')\n      .replace(/के ऊपर/g, 'ke upar')\n      .replace(/के नीचे/g, 'ke neeche')\n      .replace(/के आगे/g, 'ke aage')\n      .replace(/के पीछे/g, 'ke peeche')\n      .replace(/के दाएं/g, 'ke daayein')\n      .replace(/के बाएं/g, 'ke baayein');\n\n    return englishText;\n  }\n\n  // Voice customization methods\n  toggleVoiceSettings(): void {\n    this.showVoiceSettings = !this.showVoiceSettings;\n  }\n\n  toggleVoiceGender(): void {\n    this.voiceSettings.gender = this.voiceSettings.gender === 'male' ? 'female' : 'male';\n    this.saveVoiceSettings();\n    console.log(`Voice gender switched to: ${this.voiceSettings.gender}`);\n    \n    // Show a brief notification\n    this.showFeedbackMessage(`Voice switched to ${this.voiceSettings.gender} voice`);\n  }\n\n  setVoiceGender(gender: 'male' | 'female'): void {\n    this.voiceSettings.gender = gender;\n    this.saveVoiceSettings();\n    console.log(`Voice gender set to: ${gender}`);\n    \n    // Debug: Show available voices for this gender\n    this.debugVoiceSelection();\n    \n    // Show a brief notification\n    this.showFeedbackMessage(`Voice switched to ${gender} voice`);\n  }\n\n  // Manual voice selection for testing\n  forceMaleVoice(): void {\n    if (this.synthesis) {\n      const voices = this.synthesis.getVoices();\n      \n      // Try to find any male voice (Hindi or Indian English)\n      const maleVoice = voices.find(voice => \n        this.isMaleVoice(voice) && \n        (voice.lang.startsWith('hi-IN') || voice.lang.startsWith('en-IN'))\n      );\n      \n      if (maleVoice) {\n        this.voiceSettings.voiceName = maleVoice.name;\n        this.saveVoiceSettings();\n        console.log(`Forced male voice: ${maleVoice.name}`);\n        this.showFeedbackMessage(`Forced male voice: ${maleVoice.name}`);\n      } else {\n        console.log('No male voice found!');\n        this.showFeedbackMessage('No male voice found on your system');\n      }\n    }\n  }\n\n  // Manual voice selection for testing\n  forceFemaleVoice(): void {\n    if (this.synthesis) {\n      const voices = this.synthesis.getVoices();\n      \n      // Try to find any female voice (Hindi or Indian English)\n      const femaleVoice = voices.find(voice => \n        this.isFemaleVoice(voice) && \n        (voice.lang.startsWith('hi-IN') || voice.lang.startsWith('en-IN'))\n      );\n      \n      if (femaleVoice) {\n        this.voiceSettings.voiceName = femaleVoice.name;\n        this.saveVoiceSettings();\n        console.log(`Forced female voice: ${femaleVoice.name}`);\n        this.showFeedbackMessage(`Forced female voice: ${femaleVoice.name}`);\n      } else {\n        console.log('No female voice found!');\n        this.showFeedbackMessage('No female voice found on your system');\n      }\n    }\n  }\n\n  private debugVoiceSelection(): void {\n    if (this.synthesis) {\n      const voices = this.synthesis.getVoices();\n      const preferredVoices = this.getPreferredVoicesByGender();\n      \n      console.log(`=== Voice Selection Debug for ${this.voiceSettings.gender} ===`);\n      console.log('Preferred voices:', preferredVoices);\n      \n      // Show all Hindi voices with gender detection\n      const hindiVoices = voices.filter(v => v.lang.startsWith('hi-IN'));\n      console.log('Hindi voices available:');\n      hindiVoices.forEach(voice => {\n        const isMale = this.isMaleVoice(voice);\n        const isFemale = this.isFemaleVoice(voice);\n        const matchesGender = this.matchesGenderPreference(voice);\n        console.log(`- ${voice.name}: Male=${isMale}, Female=${isFemale}, Matches=${matchesGender}`);\n      });\n      \n      // Show what would be selected\n      const selectedVoice = this.selectBestVoice(voices, preferredVoices);\n      if (selectedVoice) {\n        console.log(`Selected voice: ${selectedVoice.name} (${selectedVoice.lang})`);\n      } else {\n        console.log('No voice selected!');\n      }\n    }\n  }\n\n  private debugAllVoices(): void {\n    if (this.synthesis) {\n      const voices = this.synthesis.getVoices();\n      console.log('=== ALL AVAILABLE VOICES ===');\n      voices.forEach(voice => {\n        const isMale = this.isMaleVoice(voice);\n        const isFemale = this.isFemaleVoice(voice);\n        console.log(`- ${voice.name} (${voice.lang}) - Male: ${isMale}, Female: ${isFemale}`);\n      });\n      \n      // Show Hindi voices specifically\n      const hindiVoices = voices.filter(v => v.lang.startsWith('hi-IN'));\n      console.log('=== HINDI VOICES ===');\n      if (hindiVoices.length === 0) {\n        console.log('No Hindi voices found!');\n      } else {\n        hindiVoices.forEach(voice => {\n          const isMale = this.isMaleVoice(voice);\n          const isFemale = this.isFemaleVoice(voice);\n          console.log(`- ${voice.name} (${voice.lang}) - Male: ${isMale}, Female: ${isFemale}`);\n        });\n      }\n      \n      // Show Indian English voices\n      const indianEnglishVoices = voices.filter(v => v.lang.startsWith('en-IN'));\n      console.log('=== INDIAN ENGLISH VOICES ===');\n      if (indianEnglishVoices.length === 0) {\n        console.log('No Indian English voices found!');\n      } else {\n        indianEnglishVoices.forEach(voice => {\n          const isMale = this.isMaleVoice(voice);\n          const isFemale = this.isFemaleVoice(voice);\n          console.log(`- ${voice.name} (${voice.lang}) - Male: ${isMale}, Female: ${isFemale}`);\n        });\n      }\n    }\n  }\n\n  updateVoiceSettings(setting: 'rate' | 'pitch' | 'volume' | 'voiceName' | 'language' | 'gender', event: Event): void {\n    const target = event.target as HTMLInputElement | HTMLSelectElement;\n    const value = setting === 'rate' || setting === 'pitch' || setting === 'volume' \n      ? parseFloat(target.value) \n      : target.value;\n    \n    (this.voiceSettings as any)[setting] = value;\n    this.saveVoiceSettings();\n  }\n\n  selectVoice(event: Event): void {\n    const target = event.target as HTMLSelectElement;\n    const voiceName = target.value;\n    this.voiceSettings.voiceName = voiceName;\n    this.saveVoiceSettings();\n    console.log('Voice selected:', voiceName);\n  }\n\n  private loadVoiceSettings(): void {\n    const saved = localStorage.getItem('aiVoiceSettings');\n    if (saved) {\n      this.voiceSettings = { ...this.voiceSettings, ...JSON.parse(saved) };\n    }\n  }\n\n  private saveVoiceSettings(): void {\n    localStorage.setItem('aiVoiceSettings', JSON.stringify(this.voiceSettings));\n  }\n\n  getFilteredVoices(): SpeechSynthesisVoice[] {\n    if (this.voiceSettings.language === 'auto') {\n      return this.availableVoices;\n    }\n    return this.availableVoices.filter(voice => \n      voice.lang.startsWith(this.voiceSettings.language)\n    );\n  }\n\n  getVoiceDisplayName(voice: SpeechSynthesisVoice): string {\n    const lang = voice.lang.split('-')[0];\n    const country = voice.lang.split('-')[1];\n    const isNeural = voice.name.includes('Neural');\n    \n    let displayName = voice.name;\n    if (isNeural) {\n      displayName += ' (Neural)';\n    }\n    displayName += ` (${lang.toUpperCase()}-${country})`;\n    \n    return displayName;\n  }\n} ","<div class=\"chat-container\">\n  <!-- Chat Header -->\n  <div class=\"chat-header\">\n    <div class=\"chat-header-content\">\n      <div class=\"ai-avatar\">\n        <i class=\"bi bi-robot\"></i>\n      </div>\n      <div class=\"chat-info\">\n        <h3>AI Assistant</h3>\n        <p class=\"status\">\n          <span class=\"status-dot\"></span>\n          Online\n        </p>\n      </div>\n      <div class=\"chat-actions\">\n        <button class=\"btn btn-voice-toggle\" (click)=\"toggleVoiceGender()\" title=\"Toggle Voice Gender\">\n          <i class=\"bi\" [class.bi-gender-male]=\"voiceSettings.gender === 'male'\" [class.bi-gender-female]=\"voiceSettings.gender === 'female'\"></i>\n        </button>\n        <button class=\"btn btn-voice-settings\" (click)=\"toggleVoiceSettings()\" title=\"Voice Settings\">\n          <i class=\"bi bi-gear\"></i>\n        </button>\n        <button class=\"btn btn-speak\" (click)=\"toggleSpeech()\" title=\"Speak Last AI Message\">\n          <i class=\"bi\" [class.bi-volume-up]=\"!isSpeaking\" [class.bi-volume-mute]=\"isSpeaking\"></i>\n        </button>\n        <button class=\"btn btn-clear\" (click)=\"clearChat()\" title=\"Clear Chat\">\n          <i class=\"bi bi-trash\"></i>\n        </button>\n      </div>\n    </div>\n  </div>\n\n  <!-- Voice Settings Panel -->\n  <div class=\"voice-settings-panel\" *ngIf=\"showVoiceSettings\">\n    <div class=\"voice-settings-header\">\n      <h4>AI Voice Settings</h4>\n      <button class=\"btn-close\" (click)=\"toggleVoiceSettings()\">\n        <i class=\"bi bi-x\"></i>\n      </button>\n    </div>\n    \n    <div class=\"voice-settings-content\">\n      <!-- Voice Selection -->\n      <div class=\"setting-group\">\n        <label>AI Voice:</label>\n        <select \n          class=\"form-control\" \n          [value]=\"voiceSettings.voiceName\"\n          (change)=\"selectVoice($event)\"\n        >\n          <option value=\"\">Auto-select best voice</option>\n          <option \n            *ngFor=\"let voice of getFilteredVoices()\" \n            [value]=\"voice.name\"\n          >\n            {{ getVoiceDisplayName(voice) }}\n          </option>\n        </select>\n      </div>\n\n      <!-- Language Preference -->\n      <div class=\"setting-group\">\n        <label>Language:</label>\n        <select \n          class=\"form-control\" \n          [value]=\"voiceSettings.language\"\n          (change)=\"updateVoiceSettings('language', $event)\"\n        >\n          <option value=\"auto\">Auto-detect</option>\n          <option value=\"hi-IN\">Hindi</option>\n          <option value=\"en-IN\">English (India)</option>\n          <option value=\"en-US\">English (US)</option>\n          <option value=\"en-GB\">English (UK)</option>\n        </select>\n      </div>\n\n      <!-- Voice Gender Preference -->\n      <div class=\"setting-group\">\n        <label>Voice Gender:</label>\n        <div class=\"gender-toggle-container\">\n          <button \n            class=\"btn btn-gender-toggle\" \n            [class.active]=\"voiceSettings.gender === 'male'\"\n            (click)=\"setVoiceGender('male')\"\n          >\n            <i class=\"bi bi-gender-male\"></i>\n            Male\n          </button>\n          <button \n            class=\"btn btn-gender-toggle\" \n            [class.active]=\"voiceSettings.gender === 'female'\"\n            (click)=\"setVoiceGender('female')\"\n          >\n            <i class=\"bi bi-gender-female\"></i>\n            Female\n          </button>\n        </div>\n        <small class=\"text-muted\">Current: {{ voiceSettings.gender }} voice</small>\n      </div>\n\n      <!-- Speech Rate -->\n      <div class=\"setting-group\">\n        <label>Speech Rate: {{ voiceSettings.rate }}</label>\n        <input \n          type=\"range\" \n          min=\"0.5\" \n          max=\"2.0\" \n          step=\"0.1\"\n          [value]=\"voiceSettings.rate\"\n          (input)=\"updateVoiceSettings('rate', $event)\"\n          class=\"form-range\"\n        >\n        <div class=\"range-labels\">\n          <span>Slow</span>\n          <span>Fast</span>\n        </div>\n      </div>\n\n      <!-- Pitch -->\n      <div class=\"setting-group\">\n        <label>Pitch: {{ voiceSettings.pitch }}</label>\n        <input \n          type=\"range\" \n          min=\"0.5\" \n          max=\"2.0\" \n          step=\"0.05\"\n          [value]=\"voiceSettings.pitch\"\n          (input)=\"updateVoiceSettings('pitch', $event)\"\n          class=\"form-range\"\n        >\n        <div class=\"range-labels\">\n          <span>Low</span>\n          <span>High</span>\n        </div>\n      </div>\n\n      <!-- Volume -->\n      <div class=\"setting-group\">\n        <label>Volume: {{ Math.round(voiceSettings.volume * 100) }}%</label>\n        <input \n          type=\"range\" \n          min=\"0.1\" \n          max=\"1.0\" \n          step=\"0.05\"\n          [value]=\"voiceSettings.volume\"\n          (input)=\"updateVoiceSettings('volume', $event)\"\n          class=\"form-range\"\n        >\n        <div class=\"range-labels\">\n          <span>Quiet</span>\n          <span>Loud</span>\n        </div>\n      </div>\n\n      <!-- Test Voice Button -->\n      <div class=\"setting-group\">\n        <button \n          class=\"btn btn-test-voice\" \n          (click)=\"speakMessage('Hello! This is a test of your AI voice settings. How does this sound?')\"\n        >\n          <i class=\"bi bi-play-circle\"></i>\n          Test Voice\n        </button>\n      </div>\n    </div>\n  </div>\n\n  <!-- Chat Messages -->\n  <div class=\"chat-messages\" #chatContainer>\n    <div class=\"messages-container\">\n      <div \n        *ngFor=\"let message of messages\" \n        class=\"message-wrapper\"\n        [ngClass]=\"message.sender === 'user' ? 'user-message' : 'ai-message'\"\n      >\n        <div class=\"message\">\n          <div class=\"message-avatar\" *ngIf=\"message.sender === 'ai'\">\n            <i class=\"bi bi-robot\"></i>\n          </div>\n          <div class=\"message-content\">\n            <div class=\"message-text\">{{ message.text }}</div>\n            <div class=\"message-time\">\n              {{ message.timestamp | date:'shortTime' }}\n            </div>\n            <!-- Feedback buttons for AI messages -->\n            <div class=\"message-feedback\" *ngIf=\"message.sender === 'ai' && message.aiResponseId\">\n              <button class=\"btn-feedback btn-thumbs-up\" (click)=\"submitFeedback(message.aiResponseId!, message.conversationId!, 5, 'Great response!')\" title=\"Good response\">\n                <i class=\"bi bi-hand-thumbs-up\"></i>\n              </button>\n              <button class=\"btn-feedback btn-thumbs-down\" (click)=\"submitFeedback(message.aiResponseId!, message.conversationId!, 1, 'Could be better')\" title=\"Poor response\">\n                <i class=\"bi bi-hand-thumbs-down\"></i>\n              </button>\n            </div>\n          </div>\n          <div class=\"message-avatar user-avatar\" *ngIf=\"message.sender === 'user'\">\n            <i class=\"bi bi-person\"></i>\n          </div>\n        </div>\n      </div>\n\n      <!-- Loading Message -->\n      <div class=\"message-wrapper ai-message\" *ngFor=\"let message of messages\">\n        <div class=\"message\" *ngIf=\"message.isLoading\">\n          <div class=\"message-avatar\">\n            <i class=\"bi bi-robot\"></i>\n          </div>\n          <div class=\"message-content\">\n            <div class=\"loading-message\">\n              <div class=\"typing-indicator\">\n                <span></span>\n                <span></span>\n                <span></span>\n              </div>\n              <div class=\"loading-text\">AI is thinking...</div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <!-- Chat Input -->\n  <div class=\"chat-input-container\">\n    <div class=\"chat-input-wrapper\">\n      <div class=\"input-group\">\n        <textarea\n          #messageInput\n          class=\"form-control chat-input\"\n          placeholder=\"Type your message here...\"\n          [(ngModel)]=\"newMessage\"\n          (keypress)=\"onKeyPress($event)\"\n          rows=\"1\"\n          maxlength=\"500\"\n        ></textarea>\n        <button \n          class=\"btn btn-mic\" \n          (click)=\"isListening ? stopListening() : startListening()\"\n          [class.listening]=\"isListening\"\n          title=\"Voice Input\"\n        >\n          <i class=\"bi\" [class.bi-mic]=\"!isListening\" [class.bi-mic-mute]=\"isListening\"></i>\n        </button>\n        <button \n          class=\"btn btn-send\" \n          (click)=\"sendMessage()\"\n          [disabled]=\"!newMessage.trim() || isTyping || isLoading\"\n          [class.loading]=\"isLoading\"\n        >\n          <i class=\"bi\" [class.bi-send]=\"!isLoading\" [class.bi-hourglass-split]=\"isLoading\"></i>\n        </button>\n      </div>\n      <div class=\"input-footer\">\n        <small class=\"text-muted\">\n          Press Enter to send, Shift+Enter for new line\n        </small>\n      </div>\n    </div>\n  </div>\n</div> "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}