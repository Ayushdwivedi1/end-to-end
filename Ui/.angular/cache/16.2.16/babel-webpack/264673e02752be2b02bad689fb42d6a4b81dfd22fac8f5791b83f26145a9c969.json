{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"../../services/auth.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\nfunction RegisterComponent_div_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 30);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.getErrorMessage(\"username\"), \" \");\n  }\n}\nfunction RegisterComponent_div_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 30);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.getErrorMessage(\"email\"), \" \");\n  }\n}\nfunction RegisterComponent_div_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 30);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r2.getErrorMessage(\"firstName\"), \" \");\n  }\n}\nfunction RegisterComponent_div_30_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 30);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r3.getErrorMessage(\"lastName\"), \" \");\n  }\n}\nfunction RegisterComponent_div_36_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 30);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r4.getErrorMessage(\"password\"), \" \");\n  }\n}\nfunction RegisterComponent_div_41_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 30);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r5.getErrorMessage(\"confirmPassword\"), \" \");\n  }\n}\nfunction RegisterComponent_div_42_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 31);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r6 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r6.errorMessage, \" \");\n  }\n}\nfunction RegisterComponent_div_43_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 32);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r7 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r7.successMessage, \" \");\n  }\n}\nfunction RegisterComponent_span_46_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"span\", 33);\n  }\n}\nexport let RegisterComponent = /*#__PURE__*/(() => {\n  class RegisterComponent {\n    constructor(fb, authService, router) {\n      this.fb = fb;\n      this.authService = authService;\n      this.router = router;\n      this.loading = false;\n      this.errorMessage = '';\n      this.successMessage = '';\n      this.registerForm = this.fb.group({\n        username: ['', [Validators.required, Validators.minLength(3), Validators.maxLength(50)]],\n        email: ['', [Validators.required, Validators.email]],\n        password: ['', [Validators.required, Validators.minLength(6)]],\n        confirmPassword: ['', [Validators.required]],\n        firstName: ['', [Validators.maxLength(50)]],\n        lastName: ['', [Validators.maxLength(50)]]\n      }, {\n        validators: this.passwordMatchValidator\n      });\n    }\n    passwordMatchValidator(form) {\n      const password = form.get('password');\n      const confirmPassword = form.get('confirmPassword');\n      if (password && confirmPassword && password.value !== confirmPassword.value) {\n        confirmPassword.setErrors({\n          passwordMismatch: true\n        });\n        return {\n          passwordMismatch: true\n        };\n      }\n      if (confirmPassword?.errors?.['passwordMismatch']) {\n        delete confirmPassword.errors['passwordMismatch'];\n        if (Object.keys(confirmPassword.errors).length === 0) {\n          confirmPassword.setErrors(null);\n        }\n      }\n      return null;\n    }\n    onSubmit() {\n      if (this.registerForm.valid) {\n        this.loading = true;\n        this.errorMessage = '';\n        this.successMessage = '';\n        this.authService.register(this.registerForm.value).subscribe({\n          next: response => {\n            if (response.success) {\n              this.successMessage = 'Registration successful! Please login.';\n              setTimeout(() => {\n                this.router.navigate(['/login']);\n              }, 2000);\n            } else {\n              this.errorMessage = response.message;\n            }\n            this.loading = false;\n          },\n          error: error => {\n            this.errorMessage = error.error?.message || 'Registration failed. Please try again.';\n            this.loading = false;\n          }\n        });\n      }\n    }\n    getErrorMessage(field) {\n      const control = this.registerForm.get(field);\n      if (control?.hasError('required')) {\n        return `${field.charAt(0).toUpperCase() + field.slice(1)} is required`;\n      }\n      if (control?.hasError('email')) {\n        return 'Please enter a valid email address';\n      }\n      if (control?.hasError('minlength')) {\n        const minLength = control.errors?.['minlength']?.requiredLength;\n        return `${field.charAt(0).toUpperCase() + field.slice(1)} must be at least ${minLength} characters`;\n      }\n      if (control?.hasError('maxlength')) {\n        const maxLength = control.errors?.['maxlength']?.requiredLength;\n        return `${field.charAt(0).toUpperCase() + field.slice(1)} cannot exceed ${maxLength} characters`;\n      }\n      if (control?.hasError('passwordMismatch')) {\n        return 'Passwords do not match';\n      }\n      return '';\n    }\n    static {\n      this.ɵfac = function RegisterComponent_Factory(t) {\n        return new (t || RegisterComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.AuthService), i0.ɵɵdirectiveInject(i3.Router));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: RegisterComponent,\n        selectors: [[\"app-register\"]],\n        decls: 51,\n        vars: 24,\n        consts: [[1, \"container\", \"mt-5\"], [1, \"row\", \"justify-content-center\"], [1, \"col-md-8\", \"col-lg-6\"], [1, \"card\", \"shadow\"], [1, \"card-header\", \"bg-success\", \"text-white\", \"text-center\"], [1, \"mb-0\"], [1, \"card-body\"], [3, \"formGroup\", \"ngSubmit\"], [1, \"row\"], [1, \"col-md-6\", \"mb-3\"], [\"for\", \"username\", 1, \"form-label\"], [\"type\", \"text\", \"id\", \"username\", \"formControlName\", \"username\", \"placeholder\", \"Enter username\", 1, \"form-control\"], [\"class\", \"invalid-feedback\", 4, \"ngIf\"], [\"for\", \"email\", 1, \"form-label\"], [\"type\", \"email\", \"id\", \"email\", \"formControlName\", \"email\", \"placeholder\", \"Enter email\", 1, \"form-control\"], [\"for\", \"firstName\", 1, \"form-label\"], [\"type\", \"text\", \"id\", \"firstName\", \"formControlName\", \"firstName\", \"placeholder\", \"Enter first name\", 1, \"form-control\"], [\"for\", \"lastName\", 1, \"form-label\"], [\"type\", \"text\", \"id\", \"lastName\", \"formControlName\", \"lastName\", \"placeholder\", \"Enter last name\", 1, \"form-control\"], [\"for\", \"password\", 1, \"form-label\"], [\"type\", \"password\", \"id\", \"password\", \"formControlName\", \"password\", \"placeholder\", \"Enter password\", 1, \"form-control\"], [\"for\", \"confirmPassword\", 1, \"form-label\"], [\"type\", \"password\", \"id\", \"confirmPassword\", \"formControlName\", \"confirmPassword\", \"placeholder\", \"Confirm password\", 1, \"form-control\"], [\"class\", \"alert alert-danger\", 4, \"ngIf\"], [\"class\", \"alert alert-success\", 4, \"ngIf\"], [1, \"d-grid\"], [\"type\", \"submit\", 1, \"btn\", \"btn-success\", 3, \"disabled\"], [\"class\", \"spinner-border spinner-border-sm me-2\", 4, \"ngIf\"], [1, \"mt-3\", \"text-center\"], [\"routerLink\", \"/login\", 1, \"text-decoration-none\"], [1, \"invalid-feedback\"], [1, \"alert\", \"alert-danger\"], [1, \"alert\", \"alert-success\"], [1, \"spinner-border\", \"spinner-border-sm\", \"me-2\"]],\n        template: function RegisterComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"div\", 4)(5, \"h4\", 5);\n            i0.ɵɵtext(6, \"Register\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(7, \"div\", 6)(8, \"form\", 7);\n            i0.ɵɵlistener(\"ngSubmit\", function RegisterComponent_Template_form_ngSubmit_8_listener() {\n              return ctx.onSubmit();\n            });\n            i0.ɵɵelementStart(9, \"div\", 8)(10, \"div\", 9)(11, \"label\", 10);\n            i0.ɵɵtext(12, \"Username *\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelement(13, \"input\", 11);\n            i0.ɵɵtemplate(14, RegisterComponent_div_14_Template, 2, 1, \"div\", 12);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(15, \"div\", 9)(16, \"label\", 13);\n            i0.ɵɵtext(17, \"Email *\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelement(18, \"input\", 14);\n            i0.ɵɵtemplate(19, RegisterComponent_div_19_Template, 2, 1, \"div\", 12);\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(20, \"div\", 8)(21, \"div\", 9)(22, \"label\", 15);\n            i0.ɵɵtext(23, \"First Name\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelement(24, \"input\", 16);\n            i0.ɵɵtemplate(25, RegisterComponent_div_25_Template, 2, 1, \"div\", 12);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(26, \"div\", 9)(27, \"label\", 17);\n            i0.ɵɵtext(28, \"Last Name\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelement(29, \"input\", 18);\n            i0.ɵɵtemplate(30, RegisterComponent_div_30_Template, 2, 1, \"div\", 12);\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(31, \"div\", 8)(32, \"div\", 9)(33, \"label\", 19);\n            i0.ɵɵtext(34, \"Password *\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelement(35, \"input\", 20);\n            i0.ɵɵtemplate(36, RegisterComponent_div_36_Template, 2, 1, \"div\", 12);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(37, \"div\", 9)(38, \"label\", 21);\n            i0.ɵɵtext(39, \"Confirm Password *\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelement(40, \"input\", 22);\n            i0.ɵɵtemplate(41, RegisterComponent_div_41_Template, 2, 1, \"div\", 12);\n            i0.ɵɵelementEnd()();\n            i0.ɵɵtemplate(42, RegisterComponent_div_42_Template, 2, 1, \"div\", 23);\n            i0.ɵɵtemplate(43, RegisterComponent_div_43_Template, 2, 1, \"div\", 24);\n            i0.ɵɵelementStart(44, \"div\", 25)(45, \"button\", 26);\n            i0.ɵɵtemplate(46, RegisterComponent_span_46_Template, 1, 0, \"span\", 27);\n            i0.ɵɵtext(47);\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(48, \"div\", 28)(49, \"a\", 29);\n            i0.ɵɵtext(50, \"Already have an account? Login\");\n            i0.ɵɵelementEnd()()()()()()();\n          }\n          if (rf & 2) {\n            let tmp_1_0;\n            let tmp_2_0;\n            let tmp_3_0;\n            let tmp_4_0;\n            let tmp_5_0;\n            let tmp_6_0;\n            let tmp_7_0;\n            let tmp_8_0;\n            let tmp_9_0;\n            let tmp_10_0;\n            let tmp_11_0;\n            let tmp_12_0;\n            i0.ɵɵadvance(8);\n            i0.ɵɵproperty(\"formGroup\", ctx.registerForm);\n            i0.ɵɵadvance(5);\n            i0.ɵɵclassProp(\"is-invalid\", ((tmp_1_0 = ctx.registerForm.get(\"username\")) == null ? null : tmp_1_0.invalid) && ((tmp_1_0 = ctx.registerForm.get(\"username\")) == null ? null : tmp_1_0.touched));\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngIf\", ((tmp_2_0 = ctx.registerForm.get(\"username\")) == null ? null : tmp_2_0.invalid) && ((tmp_2_0 = ctx.registerForm.get(\"username\")) == null ? null : tmp_2_0.touched));\n            i0.ɵɵadvance(4);\n            i0.ɵɵclassProp(\"is-invalid\", ((tmp_3_0 = ctx.registerForm.get(\"email\")) == null ? null : tmp_3_0.invalid) && ((tmp_3_0 = ctx.registerForm.get(\"email\")) == null ? null : tmp_3_0.touched));\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngIf\", ((tmp_4_0 = ctx.registerForm.get(\"email\")) == null ? null : tmp_4_0.invalid) && ((tmp_4_0 = ctx.registerForm.get(\"email\")) == null ? null : tmp_4_0.touched));\n            i0.ɵɵadvance(5);\n            i0.ɵɵclassProp(\"is-invalid\", ((tmp_5_0 = ctx.registerForm.get(\"firstName\")) == null ? null : tmp_5_0.invalid) && ((tmp_5_0 = ctx.registerForm.get(\"firstName\")) == null ? null : tmp_5_0.touched));\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngIf\", ((tmp_6_0 = ctx.registerForm.get(\"firstName\")) == null ? null : tmp_6_0.invalid) && ((tmp_6_0 = ctx.registerForm.get(\"firstName\")) == null ? null : tmp_6_0.touched));\n            i0.ɵɵadvance(4);\n            i0.ɵɵclassProp(\"is-invalid\", ((tmp_7_0 = ctx.registerForm.get(\"lastName\")) == null ? null : tmp_7_0.invalid) && ((tmp_7_0 = ctx.registerForm.get(\"lastName\")) == null ? null : tmp_7_0.touched));\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngIf\", ((tmp_8_0 = ctx.registerForm.get(\"lastName\")) == null ? null : tmp_8_0.invalid) && ((tmp_8_0 = ctx.registerForm.get(\"lastName\")) == null ? null : tmp_8_0.touched));\n            i0.ɵɵadvance(5);\n            i0.ɵɵclassProp(\"is-invalid\", ((tmp_9_0 = ctx.registerForm.get(\"password\")) == null ? null : tmp_9_0.invalid) && ((tmp_9_0 = ctx.registerForm.get(\"password\")) == null ? null : tmp_9_0.touched));\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngIf\", ((tmp_10_0 = ctx.registerForm.get(\"password\")) == null ? null : tmp_10_0.invalid) && ((tmp_10_0 = ctx.registerForm.get(\"password\")) == null ? null : tmp_10_0.touched));\n            i0.ɵɵadvance(4);\n            i0.ɵɵclassProp(\"is-invalid\", ((tmp_11_0 = ctx.registerForm.get(\"confirmPassword\")) == null ? null : tmp_11_0.invalid) && ((tmp_11_0 = ctx.registerForm.get(\"confirmPassword\")) == null ? null : tmp_11_0.touched));\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngIf\", ((tmp_12_0 = ctx.registerForm.get(\"confirmPassword\")) == null ? null : tmp_12_0.invalid) && ((tmp_12_0 = ctx.registerForm.get(\"confirmPassword\")) == null ? null : tmp_12_0.touched));\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngIf\", ctx.errorMessage);\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngIf\", ctx.successMessage);\n            i0.ɵɵadvance(2);\n            i0.ɵɵproperty(\"disabled\", ctx.registerForm.invalid || ctx.loading);\n            i0.ɵɵadvance(1);\n            i0.ɵɵproperty(\"ngIf\", ctx.loading);\n            i0.ɵɵadvance(1);\n            i0.ɵɵtextInterpolate1(\" \", ctx.loading ? \"Registering...\" : \"Register\", \" \");\n          }\n        },\n        dependencies: [i4.NgIf, i3.RouterLink, i1.ɵNgNoValidate, i1.DefaultValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.FormControlName],\n        styles: [\".card[_ngcontent-%COMP%]{border-radius:15px}.card-header[_ngcontent-%COMP%]{border-radius:15px 15px 0 0!important}.form-control[_ngcontent-%COMP%]{border-radius:8px}.btn[_ngcontent-%COMP%]{border-radius:8px;font-weight:500}.alert[_ngcontent-%COMP%]{border-radius:8px}a[_ngcontent-%COMP%]{color:#28a745;transition:color .3s ease}a[_ngcontent-%COMP%]:hover{color:#1e7e34}\"]\n      });\n    }\n  }\n  return RegisterComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}